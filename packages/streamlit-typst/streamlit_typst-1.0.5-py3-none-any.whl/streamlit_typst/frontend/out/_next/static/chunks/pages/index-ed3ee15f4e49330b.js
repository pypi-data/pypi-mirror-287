(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(1748)}])},1748:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return pages}});var s=e(5893),r=e(9008),o=e.n(r),a=e(5795),i=e(3540),c=e(7294),l=e(1093),p=e(7069),d=e(1877);let u={beforeBuild:[],getModule:()=>"/node_modules/@myriaddreamin/typst-ts-renderer/pkg/typst_ts_renderer_bg.wasm"};const TypstDocument=t=>{let{fill:n,artifact:e,format:r}=t;const[o,a]=(0,c.useState)(!1),setPermissionAndOk=t=>"granted"===t.state?(a(!0),!0):(a(!1),!1);(0,c.useEffect)((()=>{navigator.permissions.query({name:"local-fonts"}).then((t=>{if(setPermissionAndOk(t))return!1;t.addEventListener("change",(n=>{console.log(n,t),setPermissionAndOk(t)}))}))}));const i=(0,c.useRef)(null),getDisplayLayerDiv=()=>null==i?void 0:i.current;return(0,c.useEffect)((()=>{const t=getDisplayLayerDiv();t&&((null==e?void 0:e.length)?(0,p.d)(d.bD,u,(t=>{const s=getDisplayLayerDiv();if(s)return t.render({artifactContent:e,format:"vector",backgroundColor:n,container:s,pixelPerPt:8})})):t.innerHTML="")}),[o,i,n,e,r]),(0,s.jsxs)("div",{children:[(0,s.jsx)("style",{children:"\n.typst-html-semantics {\n  position: absolute;\n  z-index: 2;\n  color: transparent;\n  font-family: monospace;\n  white-space: pre;\n}\n\n.typst-html-semantics span {\n  transform-origin: left top;\n  position: absolute;\n  display: inline-block;\n  left: 0;\n  top: 0;\n}\n\n.typst-content-hint {\n  position: absolute;\n  display: inline-block;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\n.typst-html-semantics a {\n  position: absolute;\n  display: inline-block;\n}\n\n/* set transparent itself */\n.typst-content-group {\n  pointer-events: visible;\n}\n\n.typst-html-semantics span::-moz-selection {\n  color: transparent;\n  background: #7db9dea0;\n}\n\n.typst-html-semantics span::selection {\n  color: transparent;\n  background: #7db9dea0;\n}\n\n.typst-html-semantics *::-moz-selection {\n  color: transparent;\n  background: transparent;\n}\n\n.typst-html-semantics *::selection {\n  color: transparent;\n  background: transparent;\n}\n\n.typst-content-fallback {\n  color: transparent;\n  background: transparent;\n}\n\n.pseudo-link,\n.typst-text {\n  pointer-events: none;\n}"}),(0,s.jsx)("div",{className:"typst-app",style:{height:"0"},ref:i})]})};function fetch_typst_ts_renderer_bg_wasm(){return new Promise(((t,n)=>{fetch("typst_ts_renderer_bg.wasm").then((n=>{n.arrayBuffer().then((n=>{t(new Uint8Array(n))}))})).catch((t=>{n(t)}))}))}TypstDocument.setWasmModuleInitOptions=t=>{u=t},TypstDocument.setWasmModuleInitOptions({beforeBuild:[d._x({byFamily:["Roboto","Segoe UI Symbol"]})],getModule:fetch_typst_ts_renderer_bg_wasm}),l.s.setCompilerInitOptions({beforeBuild:[],getModule:function fetch_typst_ts_web_compiler_bg_wasm(){return new Promise(((t,n)=>{fetch("typst_ts_web_compiler_bg.wasm").then((n=>{n.arrayBuffer().then((n=>{t(new Uint8Array(n))}))})).catch((t=>{n(t)}))}))}}),l.s.setRendererInitOptions({beforeBuild:[],getModule:fetch_typst_ts_renderer_bg_wasm});var f=function StreamlitTypst(){const{theme:t,disabled:n,args:e}=(0,a.QO)(),[r,o]=(0,c.useState)(void 0),[p,d]=(0,c.useState)(void 0),[u,f]=(0,c.useState)(!1),[m,h]=(0,c.useState)(new Uint8Array(0)),_=e.fill||"#343541",y=e.format||"json";return(0,c.useEffect)((()=>{(async()=>{o(await l.s.getCompiler()),d(await l.s.getRenderer()),f(!0)})()}),[]),(0,c.useEffect)((()=>{(async function fetchSvg(t,n){if(t){const t=await l.s.vector({mainContent:n});t&&(h(t),i.Streamlit.setFrameHeight())}})(u,e.content).catch((t=>{console.error("Error fetching SVG:",t)}))}),[u,e.content]),u?(0,s.jsx)("div",{children:(0,s.jsx)(TypstDocument,{fill:_,artifact:m,format:y})}):(0,s.jsx)("div",{children:"Loading Typst Compiler & Render..."})};var pages=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Create Next App"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(a.ei,{children:(0,s.jsx)(f,{})})]})}},function(t){t.O(0,[807,774,888,179],(function(){return n=8312,t(t.s=n);var n}));var n=t.O();_N_E=n}]);