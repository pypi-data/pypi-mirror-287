[tool.poetry]
name = "foursquare.data-sdk"
version = "1.0.0"
description = "Module for working with Foursquare Studio's Data SDK"
authors = ["Kyle Barron <kbarron@foursquare.com>"]
license = "(c) 2022 Foursquare Labs, Inc. Terms available at https://location.foursquare.com/legal/terms/foursquarestudio-terms-of-service/"
readme = "README.md"
packages = [
    { include = "foursquare/data_sdk" },
]

[tool.poetry.dependencies]
python = "^3.8"
# Allow the last two major versions of click
click = ">=7.0,<9.0"
tqdm="^4.64.0"
pydantic = "2.8.2"
requests = "^2.31.0"
PyJWT = "^2.0.0"
pandas = { version = "^1.0", optional = true}
geopandas = {version = ">=0.13.2", optional = true, python = ">=3.8"}
pyarrow = {version = "^6.0.0", optional = true}
typing-extensions = { version = "^3.7.4", python = "<3.8" }

[tool.poetry.extras]
dataframe = ["pandas", "geopandas"]
query = ["pyarrow", "pandas"]
test = ["pandas", "geopandas", "pyarrow"]

[tool.poetry.scripts]
fsq-data-sdk = "foursquare.data_sdk.cli:main"

[tool.poetry.dev-dependencies]
mypy = "1.11.0"
numpy = "^1.21"
# Forcing this pandas pin makes poetry locking much faster
# Newer versions of pandas need Python 3.8 and so poetry will try pandas 1.5 for a long, long time
# But also the last version of numpy/pandas to support 3.7 brings in too old of a pyproj version and
# doesn't have wheels to easily install on 3.10. So we need to switch on the version here
pandas = [
    {version = "~1.3", python = "<3.8"},
    {version = "^1", python = ">=3.8"},
]
pyproj = [
    {version = "~3.2", python = "<3.8"},
    {version = "^3.5", python = ">=3.8"}
]
pytest = "^6.2.2"
types-requests = "^2.25.0"
responses = "^0.13.1"
coverage = "^5.5"
h3 = "^3.7.2"
bumpversion = "^0.6.0"

[build-system]
requires = ["poetry_core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
