"use strict";(self.webpackChunk_secretflow_secretnote=self.webpackChunk_secretflow_secretnote||[]).push([[6836],{80117:function(E,h,t){t.r(h),t.d(h,{default:function(){return ne}});var l=t(73193),y=t.n(l),D=t(45332),j=t.n(D),C=t(42739),U=t(30209),V=t(69251),$=t(49679),X=t(92120),n=t(44194),Y=t(89428),M=t(65941),J=t(95831),F=t(55844),Q=t(86434),ie=t(36582),g=t(78796),W=t.n(g),q=t(4977),ee=t.n(q),te=t(10154),z=t.n(te),se=function(){function b(){W()(this,b),z()(this,"_terminal",void 0),z()(this,"_cacheDecorations",new Map),z()(this,"_highlightTimeout",0)}return ee()(b,[{key:"activate",value:function(s){this._terminal=s}},{key:"_getLineProperty",value:function(s){for(var a=0,e=s.getCell(a),u=0,v=!0,_=!0;e;)e.isBgDefault()||(v=!1),e.isFgDefault()||(_=!1),u+=e.getWidth(),e=s.getCell(a),a++;return{width:u,isAllBgDefault:v,isAllFgDefault:_}}},{key:"_decoration",value:function(s,a,e){if(this._terminal&&e&&e.decorations){var u=this._terminal,v=this._getLineProperty(s),_=v.width,T=v.isAllBgDefault,o=v.isAllFgDefault;if(!(!T||!o)){var m=u.registerMarker(-u.buffer.active.baseY-u.buffer.active.cursorY+a);if(m){var x={marker:m,x:0,width:_,backgroundColor:e.decorations.matchBackground,foregroundColor:e.decorations.matchForegroundColor,layer:"bottom"},A=u.registerDecoration(x);A&&(A.onDispose(function(){m.dispose()}),this._cacheDecorations.set(a,A))}}}}},{key:"_clearDecoration",value:function(){this._cacheDecorations.forEach(function(s){s.dispose()}),this._cacheDecorations.clear()}},{key:"_updateHighlight",value:function(s){var a=this;if(this._terminal&&Array.isArray(s)){this._clearDecoration();for(var e=this._terminal,u=0,v=e.buffer.active.getLine(u),_,T=function(){var m,x=e.buffer.active.getLine(u+1),A=x?x.isWrapped:!1,re=(m=v)===null||m===void 0?void 0:m.translateToString(!A);if(re){var O;if((O=v)!==null&&O!==void 0&&O.isWrapped&&_)a._decoration(v,u,_);else{var G=s.find(function(ae){var P=ae.keyword||"";if(ae.ignoreSensitive){var L=re.toLowerCase();return L.includes(P.toLowerCase())||L.includes(P)}return re.includes(P)});_=G,a._decoration(v,u,G)}}u++,v=x};v;)T()}}},{key:"highlight",value:function(s){var a=this;if(this._terminal&&Array.isArray(s)){this._cacheDecorations=new Map;var e=this._terminal;e.onWriteParsed(function(){clearTimeout(a._highlightTimeout),a._highlightTimeout=window.setTimeout(function(){a._updateHighlight(s)},0)}),e.onResize(function(){clearTimeout(a._highlightTimeout),a._highlightTimeout=window.setTimeout(function(){a._updateHighlight(s)},0)})}}},{key:"dispose",value:function(){clearTimeout(this._highlightTimeout),this._cacheDecorations.clear()}}]),b}();function r(b,c,s,a){var e=(0,n.useState)(),u=j()(e,2),v=u[0],_=u[1],T=(0,n.useRef)(a);return(0,n.useEffect)(function(){T.current=a}),(0,n.useEffect)(function(){var o=new c;return s&&b&&(b.loadAddon(o),_(o),T.current instanceof Function&&T.current(b,o)),function(){_(void 0),o.dispose()}},[b,c,s]),v}var f=r;function p(b,c){var s=(0,n.useRef)(b),a=(0,n.useRef)(0);return(0,n.useEffect)(function(){s.current=b}),(0,n.useEffect)(function(){return function(){clearTimeout(a.current)}},[]),(0,n.useCallback)(function(e){var u=e.target.value;clearTimeout(a.current),a.current=window.setTimeout(function(){s.current(u)},c)},[c])}var R=p,B=t(23417),H=function(c,s){var a=(0,n.useRef)(c);return(0,n.useEffect)(function(){a.current=c}),(0,n.useCallback)(function(){return(0,B.Z)(a.current,s)()},[s])},I=H,i=t(31549),k={regex:!1,wholeWord:!1,caseSensitive:!1,incremental:!1,decorations:{matchForegroundColor:"#000000",matchBackground:"#f6c8ac",matchBorder:"none",matchOverviewRuler:"none",activeMatchBackground:"#babfb1",activeMatchBorder:"none",activeMatchColorOverviewRuler:"none"}},N={cursorBlink:!1,convertEol:!1,scrollback:Number.MAX_SAFE_INTEGER,drawBoldTextInBrightColors:!1,allowProposedApi:!0,allowTransparency:!0,fontSize:13,fontFamily:"Roboto Mono,Andale Mono,Consolas,Courier New,monospace",lineHeight:20/17,fastScrollSensitivity:35},oe=[{keyword:"[error]",ignoreSensitive:!0,decorations:{matchForegroundColor:"red",matchBackground:"#24292e"}},{keyword:"[warn]",ignoreSensitive:!0,decorations:{matchForegroundColor:"yellow",matchBackground:"#24292e"}},{keyword:"[debug]",ignoreSensitive:!0,decorations:{matchForegroundColor:"cyan",matchBackground:"#24292e"}}],Z=function(c){var s=(0,n.useState)(),a=j()(s,2),e=a[0],u=a[1],v=(0,n.useState)(""),_=j()(v,2),T=_[0],o=_[1],m=(0,n.useState)({resultIndex:-1,resultCount:0}),x=j()(m,2),A=x[0],re=x[1],O=(0,n.useRef)(null),G=(0,n.useRef)(!1),ae=c.theme||"dark",P=(0,n.useRef)(0);(0,n.useEffect)(function(){var d=new Y.Terminal(y()(y()({},N),{},{theme:ae==="dark"?{selectionBackground:"#fff",selectionForeground:"#fff",background:"#24292e",foreground:"#b5bbc6"}:{selectionBackground:"#b7d7fb",selectionForeground:"#000",background:"#fff",foreground:"#000"}}));return u(d),function(){try{d.dispose()}catch(S){}}},[]),(0,n.useEffect)(function(){return O.current&&e&&(e.open(O.current),G.current=!0),function(){e&&(e.clear(),G.current=!1)}},[e]),f(e,M.CanvasAddon,!!e),f(e,Q.WebLinksAddon,!!e);var L=f(e,J.FitAddon,!!e),w=f(e,F.SearchAddon,!!e,(0,n.useCallback)(function(d,S){var K=S;K&&K.onDidChangeResults&&K.onDidChangeResults(function(me){re(me||{resultIndex:-1,resultCount:0})})},[]));f(e,se,!!e,function(d,S){var K=S;K&&K.highlight(oe)}),(0,n.useEffect)(function(){if(e)if(c.code.length===0){e.clear(),P.current=0;return}else{var d=c.code.slice(P.current);if(d.length>0){var S=d.join("").replaceAll(`
`,`\r
`);e.write(S),P.current=c.code.length}}},[e,c.code]);var ce=I(function(){G.current&&L&&L.fit&&L.fit()},3e3);(0,n.useEffect)(function(){var d=new ResizeObserver(ce),S=O.current;return S&&d.observe(S),function(){S&&(d.unobserve(S),d.disconnect())}},[L,ce]);var le=R(function(d){w&&w.findNext(d,k)},800),fe=(0,n.useCallback)(function(){w&&w.findNext("",k)},[w]),de=(0,n.useCallback)(function(d){w&&w.findPrevious(d,k)},[w]),ue=(0,n.useCallback)(function(d){w&&w.findNext(d,k)},[w]),ve=(0,n.useCallback)(function(){e&&e.scrollToTop()},[e]),he=(0,n.useCallback)(function(){e&&e.scrollToBottom()},[e]),ge=(0,i.jsxs)("div",{className:"terminal-viewer ".concat(ae),children:[(0,i.jsx)("div",{className:"terminal-viewer-header",children:(0,i.jsxs)("div",{className:"terminal-viewer-input-wrapper",children:[(0,i.jsx)("input",{placeholder:"Search...",className:"terminal-viewer-input",value:T,type:"text",onKeyDown:function(S){S.key==="Enter"&&ue(T)},onChange:function(S){o(S.target.value),le(S)}}),(0,i.jsxs)("div",{className:"terminal-viewer-input-suffix",children:[T&&(0,i.jsx)("span",{className:"input-suffix-search-result",children:A.resultCount}),(0,i.jsx)("span",{className:"input-suffix-clear",onClick:function(){o(""),fe()},children:(0,i.jsx)(C.Z,{size:16})}),(0,i.jsx)("span",{className:"input-suffix-search-tool",onClick:function(){return de(T)},children:(0,i.jsx)(U.Z,{size:16})}),(0,i.jsx)("span",{className:"input-suffix-search-tool",onClick:function(){return ue(T)},children:(0,i.jsx)(V.Z,{size:16})})]})]})}),(0,i.jsx)("div",{className:"terminal-viewer-body",ref:O}),(0,i.jsxs)("div",{className:"terminal-viewer-toolbar",children:[(0,i.jsx)("div",{className:"terminal-viewer-toolbar-button",onClick:ve,children:(0,i.jsx)($.Z,{size:16})}),(0,i.jsx)("div",{className:"terminal-viewer-toolbar-button",onClick:he,children:(0,i.jsx)(X.Z,{size:16})})]})]});return ge},ne=Z},344:function(E,h,t){var l=t(47627),y=l.Z.Symbol;h.Z=y},71395:function(E,h,t){t.d(h,{Z:function(){return ie}});var l=t(344),y=Object.prototype,D=y.hasOwnProperty,j=y.toString,C=l.Z?l.Z.toStringTag:void 0;function U(g){var W=D.call(g,C),q=g[C];try{g[C]=void 0;var ee=!0}catch(z){}var te=j.call(g);return ee&&(W?g[C]=q:delete g[C]),te}var V=U,$=Object.prototype,X=$.toString;function n(g){return X.call(g)}var Y=n,M="[object Null]",J="[object Undefined]",F=l.Z?l.Z.toStringTag:void 0;function Q(g){return g==null?g===void 0?J:M:F&&F in Object(g)?V(g):Y(g)}var ie=Q},96184:function(E,h){var t=typeof global=="object"&&global&&global.Object===Object&&global;h.Z=t},47627:function(E,h,t){var l=t(96184),y=typeof self=="object"&&self&&self.Object===Object&&self,D=l.Z||y||Function("return this")();h.Z=D},7146:function(E,h,t){t.d(h,{Z:function(){return se}});var l=t(7247),y=t(47627),D=function(){return y.Z.Date.now()},j=D,C=/\s/;function U(r){for(var f=r.length;f--&&C.test(r.charAt(f)););return f}var V=U,$=/^\s+/;function X(r){return r&&r.slice(0,V(r)+1).replace($,"")}var n=X,Y=t(80718),M=NaN,J=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,ie=parseInt;function g(r){if(typeof r=="number")return r;if((0,Y.Z)(r))return M;if((0,l.Z)(r)){var f=typeof r.valueOf=="function"?r.valueOf():r;r=(0,l.Z)(f)?f+"":f}if(typeof r!="string")return r===0?r:+r;r=n(r);var p=F.test(r);return p||Q.test(r)?ie(r.slice(2),p?2:8):J.test(r)?M:+r}var W=g,q="Expected a function",ee=Math.max,te=Math.min;function z(r,f,p){var R,B,H,I,i,k,N=0,oe=!1,Z=!1,ne=!0;if(typeof r!="function")throw new TypeError(q);f=W(f)||0,(0,l.Z)(p)&&(oe=!!p.leading,Z="maxWait"in p,H=Z?ee(W(p.maxWait)||0,f):H,ne="trailing"in p?!!p.trailing:ne);function b(o){var m=R,x=B;return R=B=void 0,N=o,I=r.apply(x,m),I}function c(o){return N=o,i=setTimeout(e,f),oe?b(o):I}function s(o){var m=o-k,x=o-N,A=f-m;return Z?te(A,H-x):A}function a(o){var m=o-k,x=o-N;return k===void 0||m>=f||m<0||Z&&x>=H}function e(){var o=j();if(a(o))return u(o);i=setTimeout(e,s(o))}function u(o){return i=void 0,ne&&R?b(o):(R=B=void 0,I)}function v(){i!==void 0&&clearTimeout(i),N=0,R=k=B=i=void 0}function _(){return i===void 0?I:u(j())}function T(){var o=j(),m=a(o);if(R=arguments,B=this,k=o,m){if(i===void 0)return c(k);if(Z)return clearTimeout(i),i=setTimeout(e,f),b(k)}return i===void 0&&(i=setTimeout(e,f)),I}return T.cancel=v,T.flush=_,T}var se=z},7247:function(E,h){function t(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}h.Z=t},54764:function(E,h){function t(l){return l!=null&&typeof l=="object"}h.Z=t},80718:function(E,h,t){var l=t(71395),y=t(54764),D="[object Symbol]";function j(C){return typeof C=="symbol"||(0,y.Z)(C)&&(0,l.Z)(C)==D}h.Z=j}}]);
