"use strict";(self.webpackChunk_secretflow_secretnote=self.webpackChunk_secretflow_secretnote||[]).push([[5369],{65369:function(fr,ye,e){e.d(ye,{Q:function(){return Vr},q:function(){return xr}});var ne=e(40897),de=e(19859),H=e(97754),oe=e(85100),D=e(53896),me=e(4977),Q=e.n(me),Fe=e(78796),I=e.n(Fe),we=e(10154),P=e.n(we),Se=e(28485),M=e(37637),q=e(44194),K=e(26281),_=M.J3.defineToken("FilePreviewContribution"),d=e(31549),ce,fe,De=function(t){var r=(0,q.useRef)(null),i=(0,q.useRef)();return(0,q.useEffect)(function(){if(t.data&&r.current){var n=(0,K.bW)(t.data||""),s=[];n.length>0&&(s=Object.keys(n[0]));var f=r.current.offsetWidth,c=r.current.offsetHeight,o={width:f,height:c,showSeriesNumber:!0},u={fields:{columns:s},data:n};i.current=new Se.HZt(r.current,u,o),i.current.setThemeCfg({theme:{rowCell:{text:{textAlign:"center"}},dataCell:{text:{textAlign:"center"}}},name:"colorful",palette:{semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColors:["#FFFFFF","#F4F4F5","#DEDFE0","#24292E","#1F2327","#1F2327","#1F2327","#24292E","#FFFFFF","#DEDFE0","#45494D","#45494D","#24292E","#000000","#000000"]}}),i.current.render()}return function(){i.current&&i.current.destroy()}},[t.data]),(0,d.jsx)("div",{ref:r,style:{width:"100%",height:"100%"}})},Pe=(ce=(0,M.ri)({contrib:[_]}),ce(fe=Q()(function p(){I()(this,p),P()(this,"type","csv"),P()(this,"render",function(t){return(0,d.jsx)(De,{data:t})})}))||fe),Ce=e(41553),U=e.n(Ce),B=e(49488),le=e.n(B),J=e(84047),ae=e.n(J),ee=e(73004),ie=e(15063),se=e(89864),C=e(56257),pe=e(84125),G=e(71340),X=e(48893),ue=e(45332),ve=e.n(ue),he=e(90819),m=e.n(he),b=e(86222),R=e.n(b),$=e(89933),h=e.n($),E=e(26336),v=e.n(E),j=e(62055),S=e.n(j),w=e(23202),g,N,z,T,Ie,be,ze,V,je,Re,Te="/",$e=[".csv",".log",".txt",".jsonl"],k=(g=(0,M.ri)(),N=function(t,r){return(0,M.f3)(ne.QY6)(t,void 0,0)},z=function(t,r){return(0,M.f3)(D.CP)(t,void 0,1)},T=Reflect.metadata("design:type",Function),Ie=Reflect.metadata("design:paramtypes",[typeof ne.QY6=="undefined"?Object:ne.QY6,typeof D.CP=="undefined"?Object:D.CP]),be=(0,ee.vg)(),ze=Reflect.metadata("design:type",Array),g(V=N(V=z(V=T(V=Ie(V=(je=function(){function p(t,r){I()(this,p),P()(this,"contentsManager",void 0),P()(this,"serverManager",void 0),v()(this,"fileTree",Re,this),this.contentsManager=t,this.serverManager=r,this.serverManager.onServerAdded(this.onServerChanged.bind(this)),this.serverManager.onServerDeleted(this.onServerChanged.bind(this))}return Q()(p,[{key:"getFileTree",value:function(){var t=h()(m()().mark(function i(){var n=this,s,f,c,o,u;return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.serverManager.getServerList();case 2:s=l.sent.filter(function(y){return y.status==="running"}),f=[],c=R()(s),l.prev=5,u=m()().mark(function y(){var O,F,A,Ue,Y,Ne;return m()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return O=o.value,F={title:O.name,key:O.id,children:[]},Z.prev=2,Z.next=5,n.contentsManager.get(Te,{baseUrl:(0,K.KP)(O.id),content:!0});case 5:A=Z.sent,Ue=A.content.filter(function(re){return n.isFileVisible(re.path)}),Y=Ue.map(function(re){return{title:re.name,key:n.formatNodeKey(O.id,re.path),isLeaf:!0}}),Ne=Y.sort(function(re,te){return re.title.localeCompare(te.title)}),F.children=Ne,f.push(F),Z.next=16;break;case 13:Z.prev=13,Z.t0=Z.catch(2),console.log(Z.t0);case 16:case"end":return Z.stop()}},y,null,[[2,13]])}),c.s();case 8:if((o=c.n()).done){l.next=12;break}return l.delegateYield(u(),"t0",10);case 10:l.next=8;break;case 12:l.next=17;break;case 14:l.prev=14,l.t1=l.catch(5),c.e(l.t1);case 17:return l.prev=17,c.f(),l.finish(17);case 20:return this.fileTree=f,l.abrupt("return",f);case 22:case"end":return l.stop()}},i,this,[[5,14,17,20]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"isFileExist",value:function(){var t=h()(m()().mark(function i(n,s){var f,c,o;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=n.key,a.next=3,this.serverManager.getServerDetail(f);case 3:if(c=a.sent,c){a.next=6;break}return a.abrupt("return",!1);case 6:return a.next=8,this.contentsManager.get(Te,{baseUrl:(0,K.KP)(c.id),content:!0});case 8:return o=a.sent,a.abrupt("return",o.content.some(function(l){return l.name===s}));case 10:case"end":return a.stop()}},i,this)}));function r(i,n){return t.apply(this,arguments)}return r}()},{key:"uploadFile",value:function(){var t=h()(m()().mark(function i(n,s,f){var c,o,u,a;return m()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c=n.key,y.next=3,this.serverManager.getServerDetail(c);case 3:if(o=y.sent,!o){y.next=9;break}return u=(0,K.KP)(o.id),a="".concat(Te,"/").concat(s),y.next=9,this.contentsManager.save(a,{content:f,baseUrl:u,name:s,path:a,type:"file",format:"text"});case 9:case"end":return y.stop()}},i,this)}));function r(i,n,s){return t.apply(this,arguments)}return r}()},{key:"downloadFile",value:function(){var t=h()(m()().mark(function i(n){var s,f,c,o,u;return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=this.parseNodeKey(n.key),f=s.serverId,c=s.path,l.next=3,this.serverManager.getServerDetail(f);case 3:if(o=l.sent,!o){l.next=9;break}return l.next=7,this.contentsManager.getDownloadUrl(c,{baseUrl:(0,K.KP)(o.id)});case 7:u=l.sent,(0,K.$A)(u,n.title);case 9:case"end":return l.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}()},{key:"deleteFile",value:function(){var t=h()(m()().mark(function i(n){var s,f,c,o;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.isLeaf){a.next=2;break}return a.abrupt("return");case 2:return s=this.parseNodeKey(n.key),f=s.serverId,c=s.path,a.next=5,this.serverManager.getServerDetail(f);case 5:if(o=a.sent,!o){a.next=11;break}return a.next=9,this.contentsManager.delete(c,{baseUrl:(0,K.KP)(o.id)});case 9:return a.next=11,this.getFileTree();case 11:case"end":return a.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}()},{key:"getFileContent",value:function(){var t=h()(m()().mark(function i(n,s){var f,c,o;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=decodeURIComponent(s),a.next=3,this.serverManager.getServerDetail(n);case 3:if(c=a.sent,!c){a.next=9;break}return a.next=7,this.contentsManager.get(f,{baseUrl:(0,K.KP)(c.id),content:!0});case 7:return o=a.sent,a.abrupt("return",o);case 9:case"end":return a.stop()}},i,this)}));function r(i,n){return t.apply(this,arguments)}return r}()},{key:"viewFile",value:function(r){var i=this.parseNodeKey(r.key),n=i.serverId,s=i.path,f=encodeURIComponent(s);window.open("/secretnote/preview?serverId=".concat(n,"&path=").concat(f),"_blank")}},{key:"copyPath",value:function(r){var i=this.parseNodeKey(r.key),n=i.path;navigator.clipboard.writeText(n)}},{key:"getFileExt",value:function(r){var i=this.parseNodeKey(r.key),n=i.path,s=this.getFileExtByPath(n);return s}},{key:"getFileExtByPath",value:function(r){var i=r.split(".").pop();return i}},{key:"formatNodeKey",value:function(r,i){return"".concat(r,"|").concat(i)}},{key:"parseNodeKey",value:function(r){var i=r.split("|"),n=ve()(i,2),s=n[0],f=n[1];return{serverId:s,path:f}}},{key:"isFileVisible",value:function(r){var i=this.getFileExtByPath(r);return $e.includes(".".concat(i))}},{key:"onServerChanged",value:function(){this.getFileTree()}}]),p}(),Re=S()(je.prototype,"fileTree",[be,ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je))||V)||V)||V)||V)||V),Ze,Ke,Le,Oe,ke,x,pr=function(){var t=(0,ee.oC)(ie.yd);return(0,d.jsx)(pe.Z,{title:C.U6.t("\u5237\u65B0"),children:(0,d.jsx)(X.Z,{size:14,onClick:function(i){i.stopPropagation(),t.fileService.getFileTree(),G.ZP.success(C.U6.t("\u6587\u4EF6\u5217\u8868\u5DF2\u5237\u65B0"))}})})},Ae=(Ze=(0,M.ri)(),Ke=(0,H.ei)("file-extra-view"),Le=function(t,r){return(0,M.f3)(k)(t,void 0,0)},Oe=Reflect.metadata("design:type",Function),ke=Reflect.metadata("design:paramtypes",[typeof k=="undefined"?Object:k]),Ze(x=Ke(x=Le(x=Oe(x=ke(x=function(p){le()(r,p);var t=ae()(r);function r(i){var n;return I()(this,r),n=t.call(this),P()(U()(n),"fileService",void 0),P()(U()(n),"view",pr),n.fileService=i,n}return Q()(r)}(se.P))||x)||x)||x)||x)||x),hr=e(51598),gr=e.n(hr),yr=e(10546),mr=e(89725),Wr=e(91792),Ve,xe,We,Fr=mr.ZP.pre(Ve||(Ve=gr()([`
  width: 100%;
  height: 100%;
  overflow: scroll;
  margin: 0;

  .line-number {
    float: left;
    text-align: right;
    margin-right: 12px;
    color: #bfbfbf;
    user-select: none;
  }

  code {
    padding: 0 1em !important;
  }
`]))),wr=function(t){(0,q.useEffect)(function(){yr.Z.highlightAll()},[]);var r=t.data.trim().split(`
`).map(function(i,n){return"".concat(n+1,`
`)}).join("");return(0,d.jsxs)(Fr,{children:[(0,d.jsx)("span",{className:"line-number",children:r}),(0,d.jsx)("code",{className:"language-json",children:t.data})]})},Sr=(xe=(0,M.ri)({contrib:[_]}),xe(We=Q()(function p(){I()(this,p),P()(this,"type","jsonl"),P()(this,"render",function(t){return(0,d.jsx)(wr,{data:t})})}))||We),He,Qe,Pr=q.lazy(function(){return Promise.all([e.e(3377),e.e(6836)]).then(e.bind(e,80117))}),Cr=(He=(0,M.ri)({contrib:[_]}),He(Qe=Q()(function p(){I()(this,p),P()(this,"type","log"),P()(this,"render",function(t){return(0,d.jsx)(Pr,{code:[t]})})}))||Qe),Ye,Be,Je,Ge,Xe,qe,_e,er,L,ge,rr,tr,jr=function(){var t=(0,ee.oC)(ie.yd),r=t.type,i=t.data,n=t.providers.getContributions(),s=n.find(function(c){return c.type===r}),f=s?s.render(i):(0,d.jsx)("div",{className:"data-preview",children:i});return f},nr=(Ye=(0,M.ri)(),Be=(0,H.ei)("file-preview-view"),Je=function(t,r){return(0,M.f3)(k)(t,void 0,0)},Ge=function(t,r){return(0,M.el)(_)(t,void 0,1)},Xe=Reflect.metadata("design:type",Function),qe=Reflect.metadata("design:paramtypes",[typeof k=="undefined"?Object:k,typeof M.Ll.Provider=="undefined"?Object:M.Ll.Provider]),_e=(0,ee.vg)(),er=(0,ee.vg)(),Ye(L=Be(L=Je(L=Ge(L=Xe(L=qe(L=(ge=function(p){le()(r,p);var t=ae()(r);function r(i,n){var s;return I()(this,r),s=t.call(this),P()(U()(s),"view",jr),P()(U()(s),"fileService",void 0),P()(U()(s),"providers",void 0),v()(U()(s),"data",rr,U()(s)),v()(U()(s),"type",tr,U()(s)),s.fileService=i,s.providers=n,s}return Q()(r,[{key:"onViewMount",value:function(){var i=h()(m()().mark(function s(){var f,c,o,u,a;return m()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=(0,K.Qw)("serverId","path"),c=ve()(f,2),o=c[0],u=c[1],!(o&&u)){y.next=6;break}return y.next=4,this.fileService.getFileContent(o,u);case 4:a=y.sent,a&&(this.data=a.content,this.type=this.fileService.getFileExtByPath(u)||"txt");case 6:case"end":return y.stop()}},s,this)}));function n(){return i.apply(this,arguments)}return n}()}]),r}(se.P),rr=S()(ge.prototype,"data",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tr=S()(ge.prototype,"type",[er],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge))||L)||L)||L)||L)||L)||L),Tr=e(73193),ar=e.n(Tr),Er=e(56047),ir=e(54073),Mr=e(11607),Ur=e(41570),Nr=e(49863),Dr=e(57851),Ir=e(78651),br=e(50783),zr=e(71063),Rr=e(45253),$r=e(85136),Zr=e(96439),Kr=e(31592),Lr=e(69251),Or=e(69524),sr,lr,ur,vr,dr,W,kr=Er.Z.DirectoryTree,Ee={csv:(0,d.jsx)(Nr.Z,{size:16}),log:(0,d.jsx)(Dr.Z,{size:16}),txt:(0,d.jsx)(Ir.Z,{size:16}),default:(0,d.jsx)(br.Z,{size:16})},Ar=function(){var t=(0,ee.oC)(ie.yd),r=t.fileService,i=function(u,a){switch(u){case"copy":r.copyPath(a),G.ZP.success(C.U6.t("\u8DEF\u5F84\u5DF2\u7ECF\u590D\u5236\u5230\u526A\u5207\u677F"));break;case"delete":ir.Z.confirm({title:C.U6.t("\u5220\u9664\u6587\u4EF6"),centered:!0,content:C.U6.t("\u6587\u4EF6 {name} \u5C06\u88AB\u5220\u9664",{name:a.title}),okText:C.U6.t("\u5220\u9664\u6587\u4EF6"),cancelText:C.U6.t("\u53D6\u6D88"),okType:"danger",onOk:function(y){return h()(m()().mark(function O(){return m()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.deleteFile(a);case 2:return G.ZP.success(C.U6.t("\u6587\u4EF6\u5DF2\u7ECF\u5220\u9664")),A.abrupt("return",y(Promise.resolve));case 4:case"end":return A.stop()}},O)}))()}});break;case"download":r.downloadFile(a);break;case"view":r.viewFile(a);break;default:break}},n=function(){var o=h()(m()().mark(function u(a,l){var y;return m()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,K.pJ)(l);case 2:return y=F.sent,F.prev=3,F.next=6,r.uploadFile(a,l.name,y);case 6:return F.next=8,r.getFileTree();case 8:G.ZP.success(C.U6.t("\u6587\u4EF6\u4E0A\u4F20\u6210\u529F")),F.next=14;break;case 11:F.prev=11,F.t0=F.catch(3),F.t0 instanceof Error&&G.ZP.error(F.t0.message);case 14:case"end":return F.stop()}},u,null,[[3,11]])}));return function(a,l){return o.apply(this,arguments)}}(),s=function(u){var a={accept:$e.join(","),beforeUpload:function(){var l=h()(m()().mark(function O(F){var A;return m()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,r.isFileExist(u,F.name);case 2:return A=Y.sent,A?ir.Z.confirm({title:C.U6.t("\u4E0A\u4F20\u6587\u4EF6"),centered:!0,content:C.U6.t("\u6587\u4EF6 {name} \u5DF2\u7ECF\u5B58\u5728\uFF0C\u662F\u5426\u8986\u76D6\uFF1F",{name:F.name}),okText:"Overwrite",cancelText:C.U6.t("\u53D6\u6D88"),okType:"danger",onOk:function(cr){return h()(m()().mark(function Z(){return m()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,n(u,F);case 2:return te.abrupt("return",cr(Promise.resolve));case 3:case"end":return te.stop()}},Z)}))()}}):n(u,F),Y.abrupt("return",!1);case 5:case"end":return Y.stop()}},O)}));function y(O){return l.apply(this,arguments)}return y}(),fileList:[]};return(0,d.jsx)(Mr.Z,ar()(ar()({},a),{},{children:C.U6.t("\u4E0A\u4F20\u5230\u6587\u4EF6\u5939")}))},f=function(u){var a=u.isLeaf;if(a){var l=r.getFileExt(u);return l&&l in Ee?Ee[l]:Ee.default}return null},c=function(u){var a=u.isLeaf,l=[{key:"upload",label:s(u),icon:(0,d.jsx)(zr.Z,{size:12})}],y=[{key:"view",label:C.U6.t("\u67E5\u770B"),icon:(0,d.jsx)(Rr.Z,{size:12})},{key:"copy",label:C.U6.t("\u590D\u5236\u8DEF\u5F84\u5230\u526A\u5207\u677F"),icon:(0,d.jsx)($r.Z,{size:12})},{key:"download",label:C.U6.t("\u4E0B\u8F7D"),icon:(0,d.jsx)(Zr.Z,{size:12})},{type:"divider"},{key:"delete",label:C.U6.t("\u5220\u9664"),icon:(0,d.jsx)(Kr.Z,{size:12}),danger:!0}];return(0,d.jsxs)("div",{className:"ant-tree-title-content",children:[(0,d.jsx)("span",{children:(0,d.jsxs)(Ur.Z,{children:[f(u),(0,d.jsx)("span",{children:u.title})]})}),(0,d.jsx)(Or.h,{items:a?y:l,onClick:function(F){i(F,u)}})]})};return(0,d.jsx)(kr,{blockNode:!0,onSelect:function(){},treeData:r.fileTree,className:"secretnote-file-tree",switcherIcon:(0,d.jsx)(Lr.Z,{size:12}),icon:null,titleRender:c})},Me="file",or=(sr=(0,M.ri)({contrib:[oe.cI]}),lr=(0,H.ei)("secretnote-file-view"),ur=function(t,r){return(0,M.f3)(k)(t,void 0,0)},vr=Reflect.metadata("design:type",Function),dr=Reflect.metadata("design:paramtypes",[typeof k=="undefined"?Object:k]),sr(W=lr(W=ur(W=vr(W=dr(W=function(p){le()(r,p);var t=ae()(r);function r(i){var n;return I()(this,r),n=t.call(this),P()(U()(n),"fileService",void 0),P()(U()(n),"key",Me),P()(U()(n),"label",C.U6.t("\u6587\u4EF6")),P()(U()(n),"order",2),P()(U()(n),"defaultOpen",!0),P()(U()(n),"view",Ar),n.fileService=i,n.fileService.getFileTree(),n}return Q()(r)}(se.P))||W)||W)||W)||W)||W),Vr=de.R.create().register(k,or,Ae,(0,H.bQ)({slot:Me,view:or,autoCreate:!0}),(0,H.bQ)({slot:"".concat(Me,"Extra"),view:Ae,autoCreate:!0})),xr=de.R.create().contribution(_).register(k,nr,Pe,Cr,Sr,(0,H.bQ)({slot:oe.fD.main,view:nr,autoCreate:!0})).dependOn(ne.MDs,D.aB)},53896:function(fr,ye,e){e.d(ye,{CP:function(){return he},aB:function(){return m},U$:function(){return J}});var ne=e(19859),de=e(73193),H=e.n(de),oe=e(90819),D=e.n(oe),me=e(86222),Q=e.n(me),Fe=e(89933),I=e.n(Fe),we=e(26336),P=e.n(we),Se=e(78796),M=e.n(Se),q=e(4977),K=e.n(q),_=e(10154),d=e.n(_),ce=e(62055),fe=e.n(ce),De=e(23202),Pe=e(37637),Ce=e(73004),U=e(60373),B=e(26281),le=e(56257),J=function(b){return b.closed="closed",b.running="running",b.error="error",b}({}),ae=function(b){return b.common="common",b}({}),ee=d()({},ae.common,le.U6.t("\u901A\u7528")),ie,se,C,pe,G,X,ue,ve,he=(ie=(0,Pe.ri)(),se=Reflect.metadata("design:type",Function),C=Reflect.metadata("design:paramtypes",[]),pe=(0,Ce.vg)(),G=Reflect.metadata("design:type",Array),ie(X=se(X=C(X=(ue=function(){function b(){M()(this,b),P()(this,"servers",ve,this),d()(this,"onServerAddedEmitter",new U.Q5),d()(this,"onServerAdded",this.onServerAddedEmitter.event),d()(this,"onServerDeletedEmitter",new U.Q5),d()(this,"onServerDeleted",this.onServerDeletedEmitter.event),this.getServerList()}return K()(b,[{key:"getServerList",value:function(){var R=I()(D()().mark(function h(){var E,v,j,S,w,g,N;return D()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return E="api/nodes",v={method:"GET"},T.next=4,(0,B.WY)(E,v);case 4:j=T.sent,S=Q()(j),T.prev=6,S.s();case 8:if((w=S.n()).done){T.next=17;break}return g=w.value,g.id=g.id.toString(),T.next=13,this.getServerSpec(g);case 13:N=T.sent,N?(g.status=J.running,g.kernelspec=N):g.status=J.error;case 15:T.next=8;break;case 17:T.next=22;break;case 19:T.prev=19,T.t0=T.catch(6),S.e(T.t0);case 22:return T.prev=22,S.f(),T.finish(22);case 25:return this.servers=j,T.abrupt("return",j);case 27:case"end":return T.stop()}},h,this,[[6,19,22,25]])}));function $(){return R.apply(this,arguments)}return $}()},{key:"addServer",value:function(){var R=I()(D()().mark(function h(E){var v,j,S,w,g;return D()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return v={id:"",name:E.name||"Someone",address:E.address||"",type:E.type||ae.common,status:J.closed,kernelspec:void 0},j="api/nodes",S={method:"POST",body:JSON.stringify({name:v.name,address:v.address,type:v.type})},z.next=5,(0,B.WY)(j,S);case 5:return w=z.sent,v.id=w.id,z.next=9,this.getServerSpec(v);case 9:return g=z.sent,g?(v.status=J.running,v.kernelspec=g):v.status=J.error,this.servers.push(v),this.onServerAddedEmitter.fire(v),z.abrupt("return",v);case 14:case"end":return z.stop()}},h,this)}));function $(h){return R.apply(this,arguments)}return $}()},{key:"deleteServer",value:function(){var R=I()(D()().mark(function h(E){var v,j,S,w;return D()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(v=this.servers.findIndex(function(z){return z.id===E}),v!==-1){N.next=3;break}return N.abrupt("return");case 3:return j="api/nodes/"+E,S={method:"DELETE"},N.next=7,(0,B.WY)(j,S);case 7:w=this.servers[v],this.servers.splice(v,1),this.onServerAddedEmitter.fire(w);case 10:case"end":return N.stop()}},h,this)}));function $(h){return R.apply(this,arguments)}return $}()},{key:"updateServer",value:function(){var R=I()(D()().mark(function h(E,v){var j,S;return D()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return j="api/nodes/"+E,S={method:"PATCH",body:JSON.stringify({name:v.name,address:v.address,type:v.type})},g.next=4,(0,B.WY)(j,S);case 4:this.servers=this.servers.map(function(N){return N.id===E?H()(H()({},N),v):N});case 5:case"end":return g.stop()}},h,this)}));function $(h,E){return R.apply(this,arguments)}return $}()},{key:"getServerDetail",value:function(){var R=I()(D()().mark(function h(E){var v,j,S;return D()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return v="api/nodes/"+E,j={method:"GET"},g.next=4,(0,B.WY)(v,j);case 4:return S=g.sent,g.abrupt("return",S);case 6:case"end":return g.stop()}},h)}));function $(h){return R.apply(this,arguments)}return $}()},{key:"getServerSpec",value:function(){var R=I()(D()().mark(function h(E){var v,j;return D()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return v="api/kernelspecs",w.prev=1,w.next=4,(0,B.WY)(v,{},E.id);case 4:return j=w.sent,w.abrupt("return",j);case 8:w.prev=8,w.t0=w.catch(1),console.log(w.t0);case 11:case"end":return w.stop()}},h,null,[[1,8]])}));function $(h){return R.apply(this,arguments)}return $}()}]),b}(),ve=fe()(ue.prototype,"servers",[pe,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue))||X)||X)||X),m=ne.R.create().register(he)}}]);
