"use strict";(self.webpackChunk_datalayer_jupyter_iam=self.webpackChunk_datalayer_jupyter_iam||[]).push([[9278],{39278:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var i=s(83243),r=s(2245),n=s(71514),a=s(45331),o=s(18168),l=s(16781),c=s(98209);class h{constructor(e=o.Sr){this.translator=e,this._changed=new c.Signal(this),this._providerMap=new Map}add(e,t){return this._providerMap.set(e,t),this._changed.emit(),new l.DisposableDelegate((()=>{this._providerMap.delete(e),this._changed.emit()}))}getProvider(e){for(const t of this._providerMap.values())if(t.isApplicable(e))return t.createNew(e,this.translator)}hasProvider(e){for(const t of this._providerMap.values())if(t.isApplicable(e))return!0;return!1}get changed(){return this._changed}}var d,p=s(55616),u=s(35109);class g extends p.I_{constructor(e,t){if(super(),this.searchProvider=e,this._caseSensitive=!1,this._disposed=new c.Signal(this),this._parsingError="",this._preserveCase=!1,this._initialQuery="",this._filters={},this._replaceText="",this._searchActive=!1,this._searchExpression="",this._useRegex=!1,this._wholeWords=!1,this._filters={},this.searchProvider.getFilters){const e=this.searchProvider.getFilters();for(const t in e)this._filters[t]=e[t].default}e.stateChanged.connect(this._onProviderStateChanged,this),this._searchDebouncer=new u.Debouncer((()=>{this._updateSearch().catch((e=>{console.error("Failed to update search on document.",e)}))}),t)}get caseSensitive(){return this._caseSensitive}set caseSensitive(e){this._caseSensitive!==e&&(this._caseSensitive=e,this.stateChanged.emit(),this.refresh())}get currentIndex(){return this.searchProvider.currentMatchIndex}get disposed(){return this._disposed}get filters(){return this._filters}get filtersDefinition(){var e,t,s;return null!==(s=null===(t=(e=this.searchProvider).getFilters)||void 0===t?void 0:t.call(e))&&void 0!==s?s:{}}get filtersDefinitionChanged(){return this.searchProvider.filtersChanged||null}get initialQuery(){return this._initialQuery}set initialQuery(e){this._initialQuery=e||this._searchExpression}get suggestedInitialQuery(){return this.searchProvider.getInitialQuery()}get selectionState(){return this.searchProvider.getSelectionState?this.searchProvider.getSelectionState():void 0}get isReadOnly(){return this.searchProvider.isReadOnly}get replaceOptionsSupport(){return this.searchProvider.replaceOptionsSupport}get parsingError(){return this._parsingError}get preserveCase(){return this._preserveCase}set preserveCase(e){this._preserveCase!==e&&(this._preserveCase=e,this.stateChanged.emit(),this.refresh())}get replaceText(){return this._replaceText}set replaceText(e){this._replaceText!==e&&(this._replaceText=e,this.stateChanged.emit())}get searchExpression(){return this._searchExpression}set searchExpression(e){this._searchExpression!==e&&(this._searchExpression=e,this.stateChanged.emit(),this.refresh())}get totalMatches(){return this.searchProvider.matchesCount}get useRegex(){return this._useRegex}set useRegex(e){this._useRegex!==e&&(this._useRegex=e,this.stateChanged.emit(),this.refresh())}get wholeWords(){return this._wholeWords}set wholeWords(e){this._wholeWords!==e&&(this._wholeWords=e,this.stateChanged.emit(),this.refresh())}dispose(){this.isDisposed||(this._searchExpression&&this.endQuery().catch((e=>{console.error(`Failed to end query '${this._searchExpression}.`,e)})),this.searchProvider.stateChanged.disconnect(this._onProviderStateChanged,this),this._searchDebouncer.dispose(),super.dispose())}async endQuery(){this._searchActive=!1,await this.searchProvider.endQuery(),this.stateChanged.emit()}async highlightNext(){await this.searchProvider.highlightNext(),this.stateChanged.emit()}async highlightPrevious(){await this.searchProvider.highlightPrevious(),this.stateChanged.emit()}refresh(){this._searchDebouncer.invoke().catch((e=>{console.error("Failed to invoke search document debouncer.",e)}))}async replaceAllMatches(){await this.searchProvider.replaceAllMatches(this._replaceText,{preserveCase:this.preserveCase,regularExpression:this.useRegex}),this.stateChanged.emit()}async replaceCurrentMatch(){await this.searchProvider.replaceCurrentMatch(this._replaceText,!0,{preserveCase:this.preserveCase,regularExpression:this.useRegex}),this.stateChanged.emit()}async setFilter(e,t){this._filters[e]!==t&&(this.searchProvider.validateFilter?(this._filters[e]=await this.searchProvider.validateFilter(e,t),this._filters[e]===t&&(this.stateChanged.emit(),this.refresh())):(this._filters[e]=t,this.stateChanged.emit(),this.refresh()))}async _updateSearch(){this._parsingError&&(this._parsingError="",this.stateChanged.emit());try{const e=this.searchExpression?d.parseQuery(this.searchExpression,this.caseSensitive,this.useRegex,this.wholeWords):null;e?(this._searchActive=!0,await this.searchProvider.startQuery(e,this._filters)):(this._searchActive=!1,await this.searchProvider.endQuery()),this.stateChanged.emit()}catch(e){this._parsingError=e.toString(),this.stateChanged.emit(),console.error(`Failed to parse expression ${this.searchExpression}`,e)}}_onProviderStateChanged(){this._searchActive&&this.refresh()}}!function(e){e.parseQuery=function(e,t,s,i){const r=t?"gm":"gim";let n=s?e:e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");i&&(n="\\b"+n+"\\b");const a=new RegExp(n,r);return a.test("")?null:a}}(d||(d={}));var m=s(64163),v=s(77727),_=s(63070),f=s(56769);const x="jp-DocumentSearch-overlay-row",C="jp-DocumentSearch-input",y="jp-DocumentSearch-input-label",S="jp-DocumentSearch-input-wrapper",b="jp-DocumentSearch-input-button-off",E="jp-DocumentSearch-input-button-on",R="jp-DocumentSearch-up-down-button",w="jp-DocumentSearch-search-filter",N="jp-DocumentSearch-replace-button",P="jp-DocumentSearch-replace-button-wrapper",T="jp-DocumentSearch-button-content",I="jp-DocumentSearch-button-wrapper";function D(e){const[t,s]=(0,f.useState)(1),i=(0,f.useCallback)((t=>{var i;const r=t?t.target:null===(i=e.inputRef)||void 0===i?void 0:i.current;if(r){const e=r.value.split(/\n/);let t=e.reduce(((e,t)=>e.length>t.length?e:t),"");r.parentNode&&r.parentNode instanceof HTMLElement&&(r.parentNode.dataset.value=t),s(e.length)}}),[]);return(0,f.useEffect)((()=>{var t,s;null===(s=null===(t=e.inputRef)||void 0===t?void 0:t.current)||void 0===s||s.select(),i()}),[e.initialValue]),f.createElement("label",{className:y},f.createElement("textarea",{onChange:t=>{e.onChange(t),i(t)},onKeyDown:t=>{e.onKeyDown(t),i(t)},rows:t,placeholder:e.placeholder,className:C,key:e.autoUpdate?e.initialValue:null,tabIndex:0,ref:e.inputRef,title:e.title,defaultValue:e.initialValue,autoFocus:e.autoFocus}))}function k(e){var t;const s=(null!==(t=e.translator)&&void 0!==t?t:o.Sr).load("jupyterlab"),i=(0,m.Sh)(e.caseSensitive?E:b,T),r=(0,m.Sh)(e.useRegex?E:b,T),n=(0,m.Sh)(e.wholeWords?E:b,T),a=S;return f.createElement("div",{className:a},f.createElement(D,{placeholder:s.__("Find"),onChange:t=>e.onChange(t),onKeyDown:t=>e.onKeydown(t),inputRef:e.inputRef,initialValue:e.initialSearchText,title:s.__("Find"),autoFocus:!0,autoUpdate:!0}),f.createElement("button",{className:I,onClick:()=>{e.onCaseSensitiveToggled()},tabIndex:0,title:s.__("Match Case")},f.createElement(v.AJ.react,{className:i,tag:"span"})),f.createElement("button",{className:I,onClick:()=>e.onWordToggled(),tabIndex:0,title:s.__("Match Whole Word")},f.createElement(v.zD.react,{className:n,tag:"span"})),f.createElement("button",{className:I,onClick:()=>e.onRegexToggled(),tabIndex:0,title:s.__("Use Regular Expression")},f.createElement(v.MU.react,{className:r,tag:"span"})))}function j(e){var t,s,i;const r=(null!==(t=e.translator)&&void 0!==t?t:o.Sr).load("jupyterlab"),n=(0,m.Sh)(e.preserveCase?E:b,T);return f.createElement("div",{className:"jp-DocumentSearch-replace-wrapper-class"},f.createElement("div",{className:S},f.createElement(D,{placeholder:r.__("Replace"),initialValue:null!==(s=e.replaceText)&&void 0!==s?s:"",onKeyDown:t=>e.onReplaceKeydown(t),onChange:t=>e.onChange(t),title:r.__("Replace"),autoFocus:!1,autoUpdate:!1}),(null===(i=e.replaceOptionsSupport)||void 0===i?void 0:i.preserveCase)?f.createElement("button",{className:I,onClick:()=>e.onPreserveCaseToggled(),tabIndex:0,title:r.__("Preserve Case")},f.createElement(v.AJ.react,{className:n,tag:"span"})):null),f.createElement("button",{className:P,onClick:()=>e.onReplaceCurrent(),tabIndex:0},f.createElement("span",{className:`${N} ${T}`,tabIndex:0},r.__("Replace"))),f.createElement("button",{className:P,tabIndex:0,onClick:()=>e.onReplaceAll()},f.createElement("span",{className:`${N} ${T}`,tabIndex:-1},r.__("Replace All"))))}function F(e){var t,s;const i=null===(t=e.keyBindings)||void 0===t?void 0:t.next,r=null===(s=e.keyBindings)||void 0===s?void 0:s.previous,n=i?_.H.formatKeystroke(i.keys):"",a=r?_.H.formatKeystroke(r.keys):"",o=a?` (${a})`:"",l=n?` (${n})`:"";return f.createElement("div",{className:"jp-DocumentSearch-up-down-wrapper"},f.createElement("button",{className:I,onClick:()=>e.onHighlightPrevious(),tabIndex:0,title:`${e.trans.__("Previous Match")}${o}`},f.createElement(v.lJ.react,{className:(0,m.Sh)(R,T),tag:"span"})),f.createElement("button",{className:I,onClick:()=>e.onHighlightNext(),tabIndex:0,title:`${e.trans.__("Next Match")}${l}`},f.createElement(v.EN.react,{className:(0,m.Sh)(R,T),tag:"span"})))}function W(e){return f.createElement("div",{className:"jp-DocumentSearch-index-counter"},0===e.totalMatches?"-/-":`${null===e.currentIndex?"-":e.currentIndex+1}/${e.totalMatches}`)}function M(e){let t=`jp-DocumentSearch-filter-button ${T}`;e.visible&&(t=`${t} jp-DocumentSearch-filter-button-enabled`);const s=e.anyEnabled?v.oT:v.QR;return f.createElement("button",{className:I,onClick:()=>e.toggleVisible(),tabIndex:0,title:e.visible?e.trans.__("Hide Search Filters"):e.trans.__("Show Search Filters")},f.createElement(s.react,{className:t,tag:"span",height:"20px",width:"20px"}))}function V(e){return f.createElement("label",{className:e.isEnabled?w:`${w} jp-DocumentSearch-search-filter-disabled`,title:e.description},f.createElement("input",{type:"checkbox",className:"jp-mod-styled",disabled:!e.isEnabled,checked:e.value,onChange:e.onToggle}),e.title)}class $ extends f.Component{constructor(e){super(e),this.translator=e.translator||o.Sr}_onSearchChange(e){const t=e.target.value;this.props.onSearchChanged(t)}_onSearchKeydown(e){if(13===e.keyCode)if(e.stopPropagation(),e.preventDefault(),e.ctrlKey){const t=e.target;this._insertNewLine(t),this.props.onSearchChanged(t.value)}else e.shiftKey?this.props.onHighlightPrevious():this.props.onHighlightNext()}_onReplaceKeydown(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),e.ctrlKey?this._insertNewLine(e.target):this.props.onReplaceCurrent())}_insertNewLine(e){const[t,s]=[e.selectionStart,e.selectionEnd];e.setRangeText("\n",t,s,"end")}_onClose(){this.props.onClose()}_onReplaceToggled(){if(!this.props.replaceEntryVisible)for(const e in this.props.filtersDefinition){const t=this.props.filtersDefinition[e];t.supportReplace||this.props.onFilterChanged(e,!1).catch((e=>{console.error(`Fail to update filter value for ${t.title}:\n${e}`)}))}this.props.onReplaceEntryShown(!this.props.replaceEntryVisible)}_toggleFiltersVisibility(){this.props.onFiltersVisibilityChanged(!this.props.filtersVisible)}render(){var e,t;const s=this.translator.load("jupyterlab"),i=!this.props.isReadOnly&&this.props.replaceEntryVisible,r=this.props.filtersDefinition,n=Object.keys(r).length>0,a=n?f.createElement(M,{visible:this.props.filtersVisible,anyEnabled:Object.keys(r).some((e=>{var t;const s=r[e];return null!==(t=this.props.filters[e])&&void 0!==t?t:s.default})),toggleVisible:()=>this._toggleFiltersVisibility(),trans:s}):null,o=null===(e=this.props.keyBindings)||void 0===e?void 0:e.toggleSearchInSelection,l=o?_.H.formatKeystroke(o.keys):"",c=l?` (${l})`:"",h=n?f.createElement("div",{className:"jp-DocumentSearch-search-options"},Object.keys(r).map((e=>{var t;const s=r[e];return f.createElement(V,{key:e,title:s.title,description:s.description+("selection"==e?c:""),isEnabled:!i||s.supportReplace,onToggle:async()=>{await this.props.onFilterChanged(e,!this.props.filters[e])},value:null!==(t=this.props.filters[e])&&void 0!==t?t:s.default})}))):null,d=this.props.replaceEntryVisible?v.h4:v.dz;return f.createElement(f.Fragment,null,f.createElement("div",{className:x},this.props.isReadOnly?f.createElement("div",{className:"jp-DocumentSearch-toggle-placeholder"}):f.createElement("button",{className:"jp-DocumentSearch-toggle-wrapper",onClick:()=>this._onReplaceToggled(),tabIndex:0,title:s.__("Toggle Replace")},f.createElement(d.react,{className:`jp-DocumentSearch-replace-toggle ${T}`,tag:"span",elementPosition:"center",height:"20px",width:"20px"})),f.createElement(k,{inputRef:this.props.searchInputRef,useRegex:this.props.useRegex,caseSensitive:this.props.caseSensitive,wholeWords:this.props.wholeWords,onCaseSensitiveToggled:this.props.onCaseSensitiveToggled,onRegexToggled:this.props.onRegexToggled,onWordToggled:this.props.onWordToggled,onKeydown:e=>this._onSearchKeydown(e),onChange:e=>this._onSearchChange(e),initialSearchText:this.props.initialSearchText,translator:this.translator}),a,f.createElement(W,{currentIndex:this.props.currentIndex,totalMatches:null!==(t=this.props.totalMatches)&&void 0!==t?t:0}),f.createElement(F,{onHighlightPrevious:()=>{this.props.onHighlightPrevious()},onHighlightNext:()=>{this.props.onHighlightNext()},trans:s,keyBindings:this.props.keyBindings}),f.createElement("button",{className:I,onClick:()=>this._onClose(),tabIndex:0},f.createElement(v.UF.react,{className:"jp-icon-hover",elementPosition:"center",height:"16px",width:"16px"}))),f.createElement("div",{className:x},i?f.createElement(f.Fragment,null,f.createElement(j,{onPreserveCaseToggled:this.props.onPreserveCaseToggled,onReplaceKeydown:e=>this._onReplaceKeydown(e),onChange:e=>this.props.onReplaceChanged(e.target.value),onReplaceCurrent:()=>this.props.onReplaceCurrent(),onReplaceAll:()=>this.props.onReplaceAll(),replaceOptionsSupport:this.props.replaceOptionsSupport,replaceText:this.props.replaceText,preserveCase:this.props.preserveCase,translator:this.translator}),f.createElement("div",{className:"jp-DocumentSearch-spacer"})):null),this.props.filtersVisible?h:null,!!this.props.errorMessage&&f.createElement("div",{className:"jp-DocumentSearch-regex-error"},this.props.errorMessage))}}class A extends p.UB{constructor(e,t,s){super(e),this.translator=t,this._showReplace=!1,this._showFilters=!1,this._closed=new c.Signal(this),this.addClass("jp-DocumentSearch-overlay"),this._searchInput=f.createRef(),this._keyBindings=s}get closed(){return this._closed}focusSearchInput(){var e;null===(e=this._searchInput.current)||void 0===e||e.select()}setSearchText(e){this.model.initialQuery=e,e&&(this.model.searchExpression=e)}setReplaceText(e){this.model.replaceText=e}showReplace(){this.setReplaceInputVisibility(!0)}onCloseRequest(e){super.onCloseRequest(e),this._closed.emit(),this.model.endQuery()}setReplaceInputVisibility(e){this._showReplace!==e&&(this._showReplace=e,this.update())}setFiltersVisibility(e){this._showFilters!==e&&(this._showFilters=e,this.update())}render(){return this.model.filtersDefinitionChanged?f.createElement(p.lA,{signal:this.model.filtersDefinitionChanged},(()=>this._renderOverlay())):this._renderOverlay()}_renderOverlay(){return f.createElement($,{caseSensitive:this.model.caseSensitive,currentIndex:this.model.currentIndex,isReadOnly:this.model.isReadOnly,errorMessage:this.model.parsingError,filters:this.model.filters,filtersDefinition:this.model.filtersDefinition,preserveCase:this.model.preserveCase,replaceEntryVisible:this._showReplace,filtersVisible:this._showFilters,replaceOptionsSupport:this.model.replaceOptionsSupport,replaceText:this.model.replaceText,initialSearchText:this.model.initialQuery,searchInputRef:this._searchInput,totalMatches:this.model.totalMatches,translator:this.translator,useRegex:this.model.useRegex,wholeWords:this.model.wholeWords,onCaseSensitiveToggled:()=>{this.model.caseSensitive=!this.model.caseSensitive},onRegexToggled:()=>{this.model.useRegex=!this.model.useRegex},onWordToggled:()=>{this.model.wholeWords=!this.model.wholeWords},onFilterChanged:async(e,t)=>{await this.model.setFilter(e,t)},onFiltersVisibilityChanged:e=>{this.setFiltersVisibility(e)},onHighlightNext:()=>{this.model.highlightNext()},onHighlightPrevious:()=>{this.model.highlightPrevious()},onPreserveCaseToggled:()=>{this.model.preserveCase=!this.model.preserveCase},onSearchChanged:e=>{this.model.searchExpression=e},onClose:()=>{this.close()},onReplaceEntryShown:e=>{this.setReplaceInputVisibility(e)},onReplaceChanged:e=>{this.model.replaceText=e},onReplaceCurrent:()=>{this.model.replaceCurrentMatch()},onReplaceAll:()=>{this.model.replaceAllMatches()},keyBindings:this._keyBindings})}}var O=s(35909),Q=s(92279);const K="jp-mod-searchable",B="jp-mod-search-active";var H;!function(e){e.search="documentsearch:start",e.searchAndReplace="documentsearch:startWithReplace",e.findNext="documentsearch:highlightNext",e.findPrevious="documentsearch:highlightPrevious",e.end="documentsearch:end",e.toggleSearchInSelection="documentsearch:toggleSearchInSelection"}(H||(H={}));const U={id:"@jupyterlab/documentsearch-extension:labShellWidgetListener",description:"Active search on valid document",requires:[i.r,a.x],autoStart:!0,activate:(e,t,s)=>{const i=e=>{e&&(s.hasProvider(e)?e.addClass(K):e.removeClass(K))};s.changed.connect((()=>i(t.activeWidget))),t.activeChanged.connect(((e,t)=>{const s=t.oldValue;s&&s.removeClass(K),i(t.newValue)}))}};class L{constructor(e){this._commandRegistry=e,this._cache=this._buildCache(),this._commandRegistry.keyBindingChanged.connect(this._rebuildCache,this)}get next(){return this._cache.next}get previous(){return this._cache.previous}get toggleSearchInSelection(){return this._cache.toggleSearchInSelection}_rebuildCache(){this._cache=this._buildCache()}_buildCache(){return{next:this._commandRegistry.keyBindings.find((e=>e.command===H.findNext)),previous:this._commandRegistry.keyBindings.find((e=>e.command===H.findPrevious)),toggleSearchInSelection:this._commandRegistry.keyBindings.find((e=>e.command===H.toggleSearchInSelection))}}dispose(){this._commandRegistry.keyBindingChanged.disconnect(this._rebuildCache,this)}}const q={id:"@jupyterlab/documentsearch-extension:plugin",description:"Provides the document search registry.",provides:a.x,requires:[o.gv],optional:[r.WW,O.O],autoStart:!0,activate:(e,t,s,i)=>{var r;const a=t.load("jupyterlab");let o=500,l="never";const c=new h(t),d=new Map;if(i){const t=i.load(q.id),s=e=>{o=e.get("searchDebounceTime").composite,l=e.get("autoSearchInSelection").composite};Promise.all([t,e.restored]).then((([e])=>{s(e),e.changed.connect((e=>{s(e)}))})).catch((e=>{console.error(e.message)}))}const p=()=>{const t=e.shell.currentWidget;return!!t&&c.hasProvider(t)},u=s=>{if(!s)return;const i=s.id;let r=d.get(i);if(!r){const n=c.getProvider(s);if(!n)return;const a=new g(n,o),l=new L(e.commands),h=new A(a,t,l);d.set(i,h),[H.findNext,H.findPrevious,H.end,H.toggleSearchInSelection].forEach((t=>{e.commands.notifyCommandChanged(t)})),h.closed.connect((()=>{s.isDisposed||(s.activate(),s.removeClass(B))})),h.disposed.connect((()=>{s.isDisposed||(s.activate(),s.removeClass(B)),d.delete(i),[H.findNext,H.findPrevious,H.end,H.toggleSearchInSelection].forEach((t=>{e.commands.notifyCommandChanged(t)}))})),s.disposed.connect((()=>{h.dispose(),a.dispose(),n.dispose(),l.dispose()})),r=h}return r.isAttached||(Q.$L.attach(r,s.node),s.addClass(B),s instanceof n.k&&(r.node.style.top=`${s.toolbar.node.getBoundingClientRect().height+s.contentHeader.node.getBoundingClientRect().height}px`),r.model.searchExpression&&r.model.refresh()),r};return e.commands.addCommand(H.search,{label:a.__("Find…"),isEnabled:p,execute:async t=>{const s=u(e.shell.currentWidget);if(s){const e=t.searchText;e?s.setSearchText(e):s.setSearchText(s.model.suggestedInitialQuery);const i=s.model.selectionState;let r=!1;switch(l){case"multiple-selected":r="multiple"===i;break;case"any-selected":r="multiple"===i||"single"===i}r&&await s.model.setFilter("selection",!0),s.focusSearchInput()}}}),e.commands.addCommand(H.searchAndReplace,{label:a.__("Find and Replace…"),isEnabled:p,execute:t=>{const s=u(e.shell.currentWidget);if(s){const e=t.searchText;e?s.setSearchText(e):s.setSearchText(s.model.suggestedInitialQuery);const i=t.replaceText;i&&s.setReplaceText(i),s.showReplace(),s.focusSearchInput()}}}),e.commands.addCommand(H.findNext,{label:a.__("Find Next"),isEnabled:()=>!!e.shell.currentWidget&&d.has(e.shell.currentWidget.id),execute:async()=>{var t;const s=e.shell.currentWidget;s&&await(null===(t=d.get(s.id))||void 0===t?void 0:t.model.highlightNext())}}),e.commands.addCommand(H.findPrevious,{label:a.__("Find Previous"),isEnabled:()=>!!e.shell.currentWidget&&d.has(e.shell.currentWidget.id),execute:async()=>{var t;const s=e.shell.currentWidget;s&&await(null===(t=d.get(s.id))||void 0===t?void 0:t.model.highlightPrevious())}}),e.commands.addCommand(H.end,{label:a.__("End Search"),isEnabled:()=>!!e.shell.currentWidget&&d.has(e.shell.currentWidget.id),execute:async()=>{var t;const s=e.shell.currentWidget;s&&(null===(t=d.get(s.id))||void 0===t||t.close())}}),e.commands.addCommand(H.toggleSearchInSelection,{label:a.__("Search in Selection"),isEnabled:()=>!!e.shell.currentWidget&&d.has(e.shell.currentWidget.id)&&"selection"in d.get(e.shell.currentWidget.id).model.filtersDefinition,execute:async()=>{var t;const s=e.shell.currentWidget;if(!s)return;const i=null===(t=d.get(s.id))||void 0===t?void 0:t.model;if(!i)return;const r=i.filters.selection;return i.setFilter("selection",!r)}}),null===(r=e.shell.currentChanged)||void 0===r||r.connect((()=>{Object.values(H).forEach((t=>{e.commands.notifyCommandChanged(t)}))})),s&&[H.search,H.findNext,H.findPrevious,H.end,H.toggleSearchInSelection].forEach((e=>{s.addItem({command:e,category:a.__("Main Area")})})),c}},J=[q,U]},45331:(e,t,s)=>{s.d(t,{x:()=>i});const i=new(s(47963).Token)("@jupyterlab/documentsearch:ISearchProviderRegistry","A service for a registry of search\n  providers for the application. Plugins can register their UI elements with this registry\n  to provide find/replace support.")}}]);