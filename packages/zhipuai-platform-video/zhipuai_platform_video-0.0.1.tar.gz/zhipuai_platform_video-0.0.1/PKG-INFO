Metadata-Version: 2.1
Name: zhipuai-platform-video
Version: 0.0.1
Summary: ZhipuAI 开放平台视频生成插件
Author: Zhipu AI
Requires-Python: >=3.8, !=2.7.*, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, !=3.4.*, !=3.5.*, !=3.6.*, !=3.7.*, !=3.12.*
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Provides-Extra: cli
Provides-Extra: extended-testing
Requires-Dist: aiofiles (>=24.1.0)
Requires-Dist: langchain-glm (>=0.0.1)
Requires-Dist: openpyxl (>=3.1.5)
Requires-Dist: zhipuai (>=2.1.4)
Description-Content-Type: text/markdown

#### 开放平台视频生成批量操作

#### 1. 项目简介
本项目是基于开放平台的视频生成批量操作，主要包括视频生成功能，提交包含input_text,image_path字段的的level_contexts.xlsx文件

input_text：文本内容
image_path: 图片绝对路径

输出结果为视频任务id


#### 使用

- 安装依赖
```shell
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

```


- 设置环境变量
```shell
export ZHIPUAI_API_KEY="开放平台key" 
```

- 运行

> 启动目录为项目根目录

```shell
python -m zhipuai_platform_video.start --input_excel C:\\Users\\renrui\\Desktop\\data\\level_contexts.xlsx --output_path C:\\Users\\renrui\\Desktop\\data\\
```

> 参数说明
> 
> input_excel：为包含input_text,image_path字段的的level_contexts.xlsx文件
> 
> output_path：为输出文件路径，生成 video_report.csv文件
> 
> 可以断点续传，会自动跳过已经生成的任务, 
> 
> 根据需要配置线程
> 
> prompt_num_threads: 提示词线程数,默认2
> 
> video_num_threads: 视频生成线程数,默认1
> 

- 获取任务结果 

> 启动目录为项目根目录
```shell
python -m zhipuai_platform_video.video_pull --task_video_csv C:\\Users\\renrui\\Desktop\\data\\video_report.csv --output_path C:\\Users\\renrui\\Desktop\\data\\
```
> 参数说明
> 
> input_excel： video_report.csv文件
> 
> output_path：为输出文件路径 生成video_pull_report.csv文件
> 
> 会自动跳过已经获取的任务, 删除根目录cache_data/VideoPullGenerator的文件可以重新获取
> 
> 根据需要配置线程
> 
> num_threads: 线程数,默认2
> 


- 下载视频 

> 启动目录为项目根目录
```shell
python -m zhipuai_platform_video.download_video  --csv_file_path  C:\\Users\\renrui\\Desktop\\data\\video_pull_report.csv --output_path C:\\Users\\renrui\\Desktop\\data\\

```
> 参数说明
> 
> csv_file_path： video_pull_report.csv文件
> 
> output_path：为输出文件路径 视频下载目录
>   
> 
