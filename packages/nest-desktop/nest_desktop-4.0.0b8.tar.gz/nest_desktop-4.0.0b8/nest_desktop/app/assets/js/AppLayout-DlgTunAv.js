import{d as k,u as C,o as n,c as p,a as e,V as i,w as l,m as S,b as m,e as a,f as r,t as g,g as V,F as f,r as x,h as T,i as v,j as y,k as _,l as B,n as d,p as $,q as h,s as b,v as q,x as A,y as I,z as O,A as D,B as N,C as H,D as M,E,G as F}from"./index-DCXcuAJz.js";const P=k({__name:"AppBar",setup(w){const s=C(),u=[{icon:"mdi:mdi-cog-refresh-outline",id:"clearConfig",onClick:()=>localStorage.clear(),title:"Clear config"}];return(z,o)=>(n(),p(f,null,[e(i,{class:"mx-2",color:"systembar",flat:"",icon:"mdi:mdi-home",size:"x-small",to:"/"}),e(T,null,{activator:l(({props:t})=>[e(i,S({"append-icon":"mdi:mdi-menu-down",class:"mx-1px",size:"x-small"},t,{variant:"text"}),{prepend:l(()=>[e(m,{color:a(s).currentSimulator.id,icon:a(s).currentSimulator.id+":logo",size:"large",style:{"background-color":"white","border-radius":"4px",opacity:"1"}},null,8,["color","icon"])]),default:l(()=>[r(" "+g(a(s).currentSimulator.title),1)]),_:2},1040)]),default:l(()=>[e(V,{density:"compact"},{default:l(()=>[(n(!0),p(f,null,x(a(s).simulatorItems,(t,c)=>(n(),d(v,{key:c,to:"/"+t.id,value:t.id},{prepend:l(()=>[e(m,{color:t.id,icon:t.id+":logo",size:"small"},null,8,["color","icon"])]),default:l(()=>[e(y,null,{default:l(()=>[r(g(t.title),1)]),_:2},1024)]),_:2},1032,["to","value"]))),128))]),_:1})]),_:1}),e(T,null,{activator:l(({props:t})=>[e(i,S({"append-icon":"mdi:mdi-menu-down",class:"mx-1px",size:"x-small"},t,{variant:"text"}),{default:l(()=>[r(" settings ")]),_:2},1040)]),default:l(()=>[e(V,{density:"compact"},{default:l(()=>[(n(),p(f,null,x(u,(t,c)=>e(v,{key:c,value:t.id,onClick:t.onClick},{prepend:l(()=>[e(m,{icon:t.icon,size:"small"},null,8,["icon"])]),default:l(()=>[e(y,null,{default:l(()=>[r(g(t.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64)),e(v,{to:{name:"settings"}},{prepend:l(()=>[e(m,{icon:"mdi:mdi-cogs",size:"small"})]),default:l(()=>[e(y,null,{default:l(()=>[r("Settings")]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{to:{name:"about"},size:"x-small",variant:"text"},{default:l(()=>[r("about")]),_:1}),e(i,{"append-icon":"mdi:mdi-open-in-new",class:"mx-1px",href:"https://nest-desktop.readthedocs.io",size:"x-small",target:"_blank",variant:"text"},{default:l(()=>[r(" help ")]),_:1}),e(_,{class:"mx-1",vertical:""}),e(i,{icon:a(s).state.themeIcon,onClick:o[0]||(o[0]=t=>a(s).toggleTheme()),size:"x-small",title:"Toggle theme",variant:"text"},null,8,["icon"]),e(B),e(_,{class:"mx-1",vertical:""}),(n(!0),p(f,null,x(a(s).currentSimulator.backends,(t,c)=>(n(),d(i,{disabled:!t.state.enabled,key:c,title:t.state.url,onClick:L=>t.update(),size:"x-small",variant:"text"},{default:l(()=>[r(g(t.state.name)+" ",1),e(m,{color:t.state.enabled?t.isOK&&t.isValid?"green":"red":"",class:"mx-1",icon:"mdi:mdi-circle"},null,8,["color"])]),_:2},1032,["disabled","title","onClick"]))),128)),e(_,{class:"mx-1",vertical:""}),e(i,{onClick:o[1]||(o[1]=t=>a(s).state.logsOpen=!a(s).state.logsOpen),icon:"mdi:mdi-menu-open",size:"x-small",title:"View request logs",variant:"text"})],64))}}),R={class:"mx-4"},U=["innerHTML"],j=k({__name:"AppRequestLogs",setup(w){const s=C(),u={error:"mdi:mdi-alert-circle-outline",success:"mdi:mdi-check-circle-outline"};return(z,o)=>(n(),d(A,{modelValue:a(s).state.logsOpen,"onUpdate:modelValue":o[4]||(o[4]=t=>a(s).state.logsOpen=t),location:"right",temporary:"",width:"400"},{default:l(()=>[e(h,{color:"transparent",density:"compact",title:"Request logs"},{append:l(()=>[e($,{class:"mx-2",density:"compact",modelValue:a(s).state.filterTag,"onUpdate:modelValue":o[0]||(o[0]=t=>a(s).state.filterTag=t),variant:"outlined"},{default:l(()=>[e(i,{color:"error",icon:"mdi:mdi-alert-circle-outline",size:"small",title:"Show only error logs",value:"error",width:"40"}),e(i,{color:"success",icon:"mdi:mdi-check-circle-outline",size:"small",title:"Show only success logs",value:"success",width:"40"})]),_:1},8,["modelValue"]),e(i,{icon:"mdi:mdi-playlist-remove",size:"small",title:"Clear all logs",onClick:o[1]||(o[1]=t=>a(s).clearLogs())}),e(i,{icon:"mdi:mdi-menu-close",size:"small",title:"Hide request logs",onClick:o[2]||(o[2]=t=>a(s).state.logsOpen=!1)})]),_:1}),b("div",R,[a(s).state.filterTag?(n(),d(i,{key:0,block:"",class:"px-2",density:"compact",variant:"outlined",text:"Show all logs",onClick:o[3]||(o[3]=t=>a(s).state.filterTag="")})):q("",!0)]),e(V,{class:"px-1",density:"compact"},{default:l(()=>[e(_),(n(!0),p(f,null,x(a(s).state.requestLogs,(t,c)=>I((n(),d(v,{key:c,class:"pa-0"},{default:l(()=>[e(h,{color:"transparent",density:"compact"},{prepend:l(()=>[e(m,{color:t.type,icon:u[t.type]},null,8,["color","icon"])]),append:l(()=>[e(i,{icon:"mdi:mdi-close",size:"small",onClick:L=>a(s).state.requestLogs.splice(c,1)},null,8,["onClick"])]),default:l(()=>[e(O,{color:"primary",class:"text-subtitle-1"},{default:l(()=>[r(g(t.date),1)]),_:2},1024)]),_:2},1024),b("div",{class:"px-4",innerHTML:t.text},null,8,U),e(_,{class:"my-1"})]),_:2},1024)),[[D,a(s).state.filterTag?t.type===a(s).state.filterTag:!0]])),128))]),_:1})]),_:1},8,["modelValue"]))}}),K=k({__name:"AppLayout",setup(w){const s=N(),u=C();return u.init(s),(z,o)=>{const t=M("router-view");return n(),d(H,null,{default:l(()=>[e(E,{class:"d-print-none",color:"systembar",flat:""},{default:l(()=>[e(P)]),_:1}),e(j),a(u).state.loading?(n(),d(F,{key:0,class:"ma-auto",color:"primary",indeterminate:""})):(n(),d(t,{key:1}))]),_:1})}}});export{K as default};
