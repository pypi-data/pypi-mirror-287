import{d,u as _,cj as p,ck as f,b3 as S,cl as M,D as v,o as k,c as w,a as r,w as h,cm as R,F as j}from"../../../js/index-DCXcuAJz.js";import{_ as b}from"../../../js/AppNavigation-CWc0aomP.js";const u=(s,e)=>{let t;return s.query[e]?t=s.query[e]:s.params[e]?t=s.params[e]:t=new URLSearchParams(window.location.search).get(e),t},L=d({__name:"MainLayout",setup(s){const e=_(),t=p(),c=f(),m=[{icon:"mdi:mdi-tools",id:"nestProject",simulator:"nest",title:"Sandbox",to:{name:"nestProjectRoot"}},{icon:"nest:logo",id:"nestModel",simulator:"nest",title:"Model",to:{name:"nestModelRoot"}}];return S(()=>{const o=e.currentSimulator.backends,a=e.currentSimulator.stores,n=u(c,"nest_server_url");n&&(o.nest.state.url=n);const i=u(c,"nest_server_access_token");i&&(o.nest.state.accessToken=i),Object.values(o).forEach(l=>{l.state.response.status!=200&&l.update()}),a.modelStore.init(),a.projectStore.init(),M.fetchModels(),t.init()}),(o,a)=>{const n=v("router-view");return k(),w(j,null,[r(b,{navItems:m}),r(R,null,{default:h(()=>[r(n)]),_:1})],64)}}});export{L as default};
