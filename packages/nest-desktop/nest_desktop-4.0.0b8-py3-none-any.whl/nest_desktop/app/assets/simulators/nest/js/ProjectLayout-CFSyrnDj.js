import{_ as Z,a as ne,P as ie,b as se,c as de,d as ue,e as re}from"../../../js/ProjectNav-BR344mgT.js";import{d as z,o as i,n as r,w as a,a as l,cp as L,cr as q,cz as me,b$ as T,V as y,b as S,cq as Y,g as $,i as V,co as H,K as U,l as x,f as p,t as f,O as j,c2 as N,c as v,cf as A,s as G,v as c,P as M,L as P,ct as F,cA as R,N as B,M as W,F as g,r as C,y as pe,aW as ee,A as ce,cB as ve,h as D,cC as ye,b3 as Q,Q as K,ak as X,m as _,cD as le,aV as ae,aY as fe,ce as be,cE as te,z as ke,q as Ve,cs as ge,bg as we,D as Ce,c7 as Se,e as E,k as _e,cF as he}from"../../../js/index-DCXcuAJz.js";import{C as O}from"../../../js/Card-Dj3LhSc_.js";import{b as I,_ as $e,a as J}from"../../../js/ValueSlider-Bcl3TigJ.js";import{_ as oe}from"../../../js/NodeAvatar-CPaoehoz.js";import{_ as ze}from"../../../js/ModelParamEditor-Cooob83e.js";import{_ as Pe}from"../../../js/ModelDoc-BEeBhzQM.js";import{_ as Ue}from"../../../js/DialogTextField-CIn-asOA.js";import{_ as xe}from"../../../js/ConnectionAvatar-Ko5ARZiq.js";import{_ as Te}from"../../../js/NodeMenu-DNCTSNcY.js";import"../../../js/ColorPicker-B0DOrMyE.js";import"../../../js/NodeMenu-Bc5tNuE3.js";import"../../../js/ImportDialog-1H8cn1XC.js";import"../../../js/networkGraphStore-Di8CbiUE.js";const Re=z({__name:"ActivityAnimationController",props:{graph:{}},setup(w){return(s,e)=>(i(),r(O,{class:"ma-1",color:"primary"},{default:a(()=>[l(H,{class:"pa-0",variant:"accordion"},{default:a(()=>[l(L,{density:"compact"},{default:a(()=>[l(q,{class:"expansion-panel-title d-flex align-center pl-0 pr-2"},{default:a(()=>[l(me,{onClick:e[9]||(e[9]=T(()=>{},["stop"])),mandatory:"",variant:"text"},{default:a(()=>[l(y,{onClick:e[0]||(e[0]=t=>s.graph.setFirstFrame()),icon:"mdi:mdi-skip-backward",title:"set first frame"}),l(y,{active:s.graph.state.frames.speed<-1,onClick:e[1]||(e[1]=t=>s.graph.decrementFrameSpeed()),icon:"",title:"speed down"},{default:a(()=>[l(S,{class:"mdi-rotate-180",icon:"mdi:mdi-fast-forward"})]),_:1},8,["active"]),l(y,{active:s.graph.state.frames.speed===-1,onClick:e[2]||(e[2]=t=>s.graph.playBackwardFrameAnimation()),icon:"",title:"play backward"},{default:a(()=>[l(S,{class:"mdi-rotate-180",icon:"mdi:mdi-play"})]),_:1},8,["active"]),l(y,{onClick:e[3]||(e[3]=t=>s.graph.stepBackwardFrame()),icon:"mdi:mdi-step-backward",title:"step backward"}),l(y,{active:s.graph.state.frames.speed===0,onClick:e[4]||(e[4]=t=>s.graph.pauseFrameAnimation()),icon:"mdi:mdi-pause",title:"pause"},null,8,["active"]),l(y,{onClick:e[5]||(e[5]=t=>s.graph.stepForwardFrame()),icon:"mdi:mdi-step-forward",title:"step forward"}),l(y,{active:s.graph.state.frames.speed===1,onClick:e[6]||(e[6]=t=>s.graph.playFrameAnimation()),icon:"mdi:mdi-play",title:"play forward"},null,8,["active"]),l(y,{active:s.graph.state.frames.speed>1,onClick:e[7]||(e[7]=t=>s.graph.incrementFrameSpeed()),icon:"mdi:mdi-fast-forward",title:"speed up"},null,8,["active"]),l(y,{onClick:e[8]||(e[8]=t=>s.graph.setLastFrame()),icon:"mdi:mdi-skip-forward",title:"set last frame"})]),_:1})]),_:1}),l(Y,{class:"ma-1"},{default:a(()=>[l($,null,{default:a(()=>[l(V,null,{default:a(()=>[l(I,{disabled:s.graph.state.nSamples===0,max:s.graph.state.nSamples,min:0,readonly:s.graph.state.frames.speed!==0,label:"Current time",unit:"ms",modelValue:s.graph.frameIdx,"onUpdate:modelValue":e[10]||(e[10]=t=>s.graph.frameIdx=t)},null,8,["disabled","max","readonly","modelValue"])]),_:1}),l(V,null,{default:a(()=>[l(I,{max:60,min:1,label:"Frame rate",unit:"fps",modelValue:s.graph.state.frames.rate,"onUpdate:modelValue":e[11]||(e[11]=t=>s.graph.state.frames.rate=t)},null,8,["modelValue"])]),_:1}),l(V,null,{default:a(()=>[l(I,{max:20,min:1,label:"Grid divisions",modelValue:s.graph.state.grid.divisions,"onUpdate:modelValue":e[12]||(e[12]=t=>s.graph.state.grid.divisions=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ie={key:0},je={style:{"font-size":"12px"}},Ne={key:0},Ge={style:{"font-size":"12px"}},Me={key:0},Be=["src"],De=["src"],Ee=z({__name:"ActivityAnimationControllerLayer",props:{layer:{}},setup(w){const s=["BrBG","PRGn","PiYG","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral","Blues","Greens","Greys","Oranges","Purples","Reds","Turbo","Viridis","Inferno","Magma","Plasma","Cividis","Warm","Cool","CubehelixDefault","BuGn","BuPu","GnBu","OrRd","PuBuGn","PuBu","PuRd","RdPu","YlGnBu","YlGn","YlOrBr","YlOrRd","Rainbow","Sinebow"];return(e,t)=>(i(),r(L,{density:"compact",elevation:"1",tile:""},{default:a(()=>[l(q,null,{actions:a(()=>[l(S,{onClick:t[0]||(t[0]=T(()=>e.layer.state.visible=!e.layer.state.visible,["stop"])),icon:e.layer.state.visible?"mdi-eye":"mdi-eye-off"},null,8,["icon"])]),default:a(()=>[l(U,{class:"text-button"},{default:a(()=>[l(oe,{node:e.layer.activity.recorder},null,8,["node"]),l(x),p(" "+f(e.layer.activity.recorder.model.label)+" ",1),l(x)]),_:1})]),_:1}),l(Y,{class:"px-1 py-0"},{default:a(()=>{var k;return[l(j,{flat:"",tile:""},{default:a(()=>[l(N,{items:e.layer.models,class:"my-2",density:"compact","hide-details":"",label:"Select geometry model","prepend-inner-icon":"mdi-shape","return-object":"",modelValue:e.layer.modelSelected,"onUpdate:modelValue":t[1]||(t[1]=d=>e.layer.modelSelected=d),variant:"outlined"},null,8,["items","modelValue"])]),_:1}),e.layer.activity.recorder.model.isAnalogRecorder?(i(),r(j,{key:0,flat:"",rounded:"0"},{default:a(()=>[e.layer.state.records.length>0?(i(),v("span",Ie,[l(N,{items:e.layer.state.records,onChange:t[2]||(t[2]=()=>{e.layer.graph.update()}),attach:"",chips:"",class:"pa-1 pt-3",density:"compact","hide-details":"","item-value":"groupId",label:"Recorded events","persistent-hint":"","return-object":"",size:"small",modelValue:e.layer.state.record,"onUpdate:modelValue":t[3]||(t[3]=d=>e.layer.state.record=d)},{selection:a(({item:d})=>[l(A,{color:d.raw.state.color,class:"mx-2","disable-lookup":"",label:"",size:"small",variant:"outlined"},{default:a(()=>[p(f(d.raw.id),1)]),_:2},1032,["color"]),G("div",je,[p(f(d.raw.label)+" ",1),d.raw.unit?(i(),v("span",Ne," ("+f(d.raw.unit)+")",1)):c("",!0)])]),item:a(({item:d})=>[l(A,{color:d.raw.state.color,class:"mx-2",label:"",size:"small",variant:"outlined"},{default:a(()=>[p(f(d.raw.id),1)]),_:2},1032,["color"]),G("div",Ge,[p(f(d.raw.label)+" ",1),d.raw.unit?(i(),v("span",Me," ("+f(d.raw.unit)+")",1)):c("",!0)])]),_:1},8,["items","modelValue"])])):c("",!0),e.layer.state.record?(i(),r(j,{key:1,flat:"",tile:""},{default:a(()=>[l(M,{class:"px-1 py-0"},{default:a(()=>[l(U,{"no-gutters":""},{default:a(()=>[l(P,{class:"py-0",cols:"2"},{default:a(()=>[l(F,{label:`min (${e.layer.state.record.unit})`,step:.1,"hide-details":"",style:{"font-size":"13px"},type:"number",modelValue:e.layer.state.record.colorMap.min,"onUpdate:modelValue":t[4]||(t[4]=d=>e.layer.state.record.colorMap.min=d)},null,8,["label","modelValue"])]),_:1}),l(x),l(P,{class:"py-0",cols:"6"},{default:a(()=>[l(N,{items:s,"hide-details":"",style:{"font-size":"13px"},modelValue:e.layer.state.record.colorMap.scale,"onUpdate:modelValue":t[5]||(t[5]=d=>e.layer.state.record.colorMap.scale=d)},{item:a(({item:d})=>[l(U,{style:{width:"200px"}},{default:a(()=>[l(P,{class:"py-0",cols:"4"},{default:a(()=>[G("img",{src:require(`@/assets/img/colorscales/${d}.png`),alt:"colorscale",height:"20",width:"100%"},null,8,Be)]),_:2},1024),l(P,{class:"py-0",cols:"8"},{default:a(()=>[p(f(d),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),l(x),l(P,{class:"py-0",cols:"2"},{default:a(()=>[l(F,{label:`max (${e.layer.state.record.unit})`,step:.1,"hide-details":"",style:{"font-size":"13px"},type:"number",modelValue:e.layer.state.record.colorMap.max,"onUpdate:modelValue":t[6]||(t[6]=d=>e.layer.state.record.colorMap.max=d)},null,8,["label","modelValue"])]),_:1}),G("img",{src:require(`@/assets/img/colorscales/${e.layer.state.record.colorMap.scale}.png`),alt:"colorscale",height:"8",width:"100%"},null,8,De)]),_:1}),l(R,{color:"accent",density:"compact",label:"Reverse colormap",modelValue:e.layer.state.record.colorMap.reverse,"onUpdate:modelValue":t[7]||(t[7]=d=>e.layer.state.record.colorMap.reverse=d)},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0)]),_:1})):c("",!0),l(j,{flat:"",rounded:"0"},{default:a(()=>[l(M,{class:"pa-0"},{default:a(()=>[l(I,{max:10,min:1,step:.1,value:e.layer.state.object.size,label:"Object size"},null,8,["value"]),l(I,{max:1,min:0,step:.01,value:e.layer.state.object.opacity,label:"Object opacity"},null,8,["value"])]),_:1})]),_:1}),e.layer.activity.recorder.model.isSpikeRecorder?(i(),r(j,{key:1,flat:"",title:"Trail"},{default:a(()=>[l($,null,{default:a(()=>[l(V,null,{default:a(()=>[l(I,{max:e.layer.graph.state.frames.sampleRate*50,min:0,step:e.layer.graph.state.frames.sampleRate,label:"Trail length",modelValue:e.layer.state.trail.length,"onUpdate:modelValue":t[8]||(t[8]=d=>e.layer.state.trail.length=d)},null,8,["max","step","modelValue"])]),_:1}),l(V,null,{default:a(()=>[l(R,{"hide-details":"",label:"Trail fading",modelValue:e.layer.state.trail.fading,"onUpdate:modelValue":t[9]||(t[9]=d=>e.layer.state.trail.fading=d)},null,8,["modelValue"])]),_:1}),l(V,null,{default:a(()=>[l(N,{items:["off","growing","shrinking"],class:"mt-2",density:"compact","hide-details":"",label:"Trail mode",modelValue:e.layer.state.trail.mode,"onUpdate:modelValue":t[10]||(t[10]=d=>e.layer.state.trail.mode=d),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):c("",!0),(k=e.layer.modelSelected)!=null&&k.value.includes("box")?(i(),r(j,{key:2,flat:"",subtitle:"Box style"},{default:a(()=>[l(M,{class:"py-0"},{default:a(()=>[l(R,{"hide-details":"",density:"compact",label:"Flatten height",modelValue:e.layer.state.object.flatHeight,"onUpdate:modelValue":t[11]||(t[11]=d=>e.layer.state.object.flatHeight=d)},null,8,["modelValue"]),l(R,{"hide-details":"",density:"compact",label:"Flying planes",modelValue:e.layer.state.object.flyingBoxes,"onUpdate:modelValue":t[12]||(t[12]=d=>e.layer.state.object.flyingBoxes=d)},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0)]}),_:1})]),_:1}))}}),Ae={key:0},Fe=z({__name:"CopyModelMenu",props:{model:{}},setup(w){const s=w,e=B(()=>s.model),t=W({content:void 0,dialog:!1,show:!1,spatialNode:!1}),k=[{icon:"mdi:mdi-reload",iconClass:"mdi-flip-h",id:"resetParams",onClick:()=>{e.value.resetParams()},append:!1,show:()=>!0,title:"Reset all parameters"},{icon:"mdi:mdi-information-outline",iconClass:"",id:"modelDoc",onClick:()=>{t.dialog=!0},show:()=>e.value.existingModelId!=="voltmeter",title:"Model documentation"},{icon:"mdi:mdi-trash-can-outline",iconClass:"",id:"copyModelDelete",onClick:()=>{ye({title:"Delete copied model?",text:"Are you sure to delete copied model?",buttons:[{title:"no",key:"no"},{title:"yes",key:"yes"}]}).then(d=>{d==="yes"&&e.value.remove()})},show:()=>!0,title:"Delete copied model"}];return(d,m)=>(i(),r(D,{"close-on-content-click":!1,activator:"parent",modelValue:t.show,"onUpdate:modelValue":m[0]||(m[0]=n=>t.show=n)},{default:a(()=>[l(j,{flat:"",style:{"min-width":"300px"}},{default:a(()=>[t.content==null?(i(),v("span",Ae,[l($,{density:"compact"},{default:a(()=>[(i(),v(g,null,C(k,(n,o)=>pe(l(V,{key:o,title:n.title,onClick:n.onClick},{append:a(()=>[n.append?(i(),r(S,{key:0,icon:"mdi:mdi-menu-right",size:"small"})):c("",!0)]),prepend:a(()=>[l(S,{class:ee(n.iconClass),icon:n.icon},null,8,["class","icon"])]),_:2},1032,["title","onClick"]),[[ce,n.show()]])),64))]),_:1})])):c("",!0),G("span",null,[l(ve,{value:t.dialog,width:"80%"},{default:a(()=>[l(Pe,{modelId:e.value.existingModelId},null,8,["modelId"])]),_:1},8,["value"])])]),_:1})]),_:1},8,["modelValue"]))}}),Oe={class:"d-print-none menu"},Le=z({__name:"CopyModelEditor",props:{model:{}},setup(w){const s=w,e=B(()=>s.model),t=W({elementType:"",items:[],menu:!1,panelIdx:null}),k=[{title:"neuron",value:"neuron"},{title:"recorder",value:"recorder"},{title:"stimulator",value:"stimulator"}],d=(m,n)=>{["neuron","recorder","stimulator"].includes(m.value)?(t.elementType=m.value,t.items=e.value.network.project.modelDBStore.getModelsByElementType(t.elementType)):e.value.existingModelId=m.value,n&&n()};return Q(()=>{t.items=e.value.models,t.elementType=e.value.elementType}),(m,n)=>e.value.show?(i(),r(O,{key:0,class:"ma-1"},{default:a(()=>[l(K,{class:"model-title"},{default:a(()=>[l(N,{"item-props":!0,items:t.items,label:t.elementType+" model",class:"model-select text-primary",density:"compact","hide-details":"","item-title":"label","item-value":"id",modelValue:e.value.existingModelId,"onUpdate:modelValue":n[6]||(n[6]=o=>e.value.existingModelId=o),variant:"outlined"},X({append:a(()=>[G("div",Oe,[l(D,{"close-on-content-click":!1,modelValue:t.menu,"onUpdate:modelValue":n[4]||(n[4]=o=>t.menu=o)},{activator:a(({props:o})=>[l(y,_({color:"primary",icon:"mdi:mdi-order-bool-ascending-variant",size:"small"},o,{variant:"text"}),null,16)]),default:a(()=>[l(j,null,{default:a(()=>[l(M,null,{default:a(()=>[e.value.params?(i(!0),v(g,{key:0},C(Object.values(e.value.params),(o,u)=>(i(),r(R,{key:u,label:o.label,value:o.id,density:"compact","hide-details":"",modelValue:e.value.paramsVisible,"onUpdate:modelValue":n[0]||(n[0]=b=>e.value.paramsVisible=b)},{append:a(()=>[p(f(o.id)+": "+f(o.value)+" "+f(o.unit),1)]),_:2},1032,["label","value","modelValue"]))),128)):c("",!0)]),_:1}),l(le,null,{default:a(()=>[l(y,{onClick:n[1]||(n[1]=T(()=>e.value.showAllParams(),["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" all ")]),_:1}),l(y,{onClick:n[2]||(n[2]=T(()=>e.value.hideAllParams(),["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" none ")]),_:1}),l(x),l(y,{onClick:n[3]||(n[3]=T(o=>t.menu=!1,["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(y,{color:"primary",icon:"",size:"small",variant:"text"},{default:a(()=>[l(S,{icon:"mdi:mdi-dots-vertical"}),l(Fe,{model:e.value},null,8,["model"])]),_:1})])]),item:a(({props:o})=>[l(V,{onClick:u=>d(o),class:"model-item"},{append:a(()=>[t.elementType?(i(),r(y,{key:0,onClick:T(u=>d(o,()=>t.menu=!0),["stop"]),class:"icon",icon:"mdi:mdi-menu-right",size:"x-small",variant:"outlined"},null,8,["onClick"])):c("",!0)]),default:a(()=>[p(f(o.title)+" ",1)]),_:2},1032,["onClick"])]),_:2},[t.elementType?{name:"prepend-item",fn:a(()=>[l(V,{onClick:n[5]||(n[5]=()=>{t.elementType="",t.items=k})},{prepend:a(()=>[l(S,{icon:"mdi:mdi-menu-left"})]),default:a(()=>[p(" Other element types ")]),_:1})]),key:"0"}:void 0]),1032,["items","label","modelValue"])]),_:1}),l(M,null,{default:a(()=>[l(F,{class:"ma-1",density:"compact","hide-details":"",label:"New label",modelValue:e.value.newModelId,"onUpdate:modelValue":n[7]||(n[7]=o=>e.value.newModelId=o),variant:"outlined"},null,8,["modelValue"]),e.value.paramsVisible.length>0?(i(),r($,{key:0,class:"py-0"},{default:a(()=>[(i(!0),v(g,null,C(e.value.paramsVisible,(o,u)=>(i(),r(ze,{key:u,param:e.value.params[o]},null,8,["param"]))),128))]),_:1})):c("",!0)]),_:1})]),_:1})):c("",!0)}}),qe=z({__name:"NodeRecordSelect",props:{node:{}},setup(w){return(s,e)=>(i(),v("div",null,[l(N,{items:s.node.recordables,"onUpdate:modelValue":[e[0]||(e[0]=t=>ae(()=>s.node.changes())),e[1]||(e[1]=t=>s.node.records=t)],"base-color":"primary",chips:"",class:"pa-1",clearable:"","closable-chips":"",color:"primary",density:"compact","hide-details":"","item-title":"title","item-value":"groupId",label:"Record from",multiple:"","persistent-hint":"","return-object":"",modelValue:s.node.records,variant:"outlined"},X({_:2},[s.node.records.length>0?{name:"chip",fn:a(({item:t})=>[l(Z,{nodeRecord:s.node.getNodeRecord(t.value)},null,8,["nodeRecord"])]),key:"0"}:void 0,s.node.records.length>0?{name:"item",fn:a(({item:t,props:k})=>[l(V,_(k,{density:"compact",title:""}),{default:a(()=>[l(R,{label:t.title,"model-value":s.node.records.includes(t.raw),density:"compact","hide-details":""},{append:a(()=>[s.node.getNodeRecord(t.value)?(i(),r(Z,{key:0,nodeRecord:s.node.getNodeRecord(t.value),class:"my-auto"},null,8,["nodeRecord"])):c("",!0)]),_:2},1032,["label","model-value"])]),_:2},1040)]),key:"1"}:void 0]),1032,["items","modelValue"])]))}}),Ye=z({__name:"SynapseParamEditor",props:{param:{}},setup(w){const s=w,e=B(()=>s.param),t=d=>{e.value.state.value=d,e.value.changes()},k=[{title:"Set default value",icon:"mdi:mdi-reload",onclick:()=>{e.value.reset(),e.value.changes()}},{title:"Hide parameter",icon:"mdi:mdi-eye-off-outline",onclick:()=>{e.value.hide(),e.value.changes()}}];return(d,m)=>s.param?(i(),r(V,{key:0,class:"param pl-0 pr-1"},{default:a(()=>[l(U,{"no-gutters":""},{default:a(()=>[e.value.options.component==="rangeSlider"?(i(),r($e,_({key:0,"model-value":e.value.state.value,"thumb-color":e.value.synapse.connection.sourceNode.view.color,"onUpdate:modelValue":t},e.value.options),null,16,["model-value","thumb-color"])):e.value.options.component==="tickSlider"?(i(),r(J,_({key:1,"model-value":e.value.state.value,"thumb-color":e.value.synapse.connection.sourceNode.view.color,"onUpdate:modelValue":t},e.value.options),null,16,["model-value","thumb-color"])):e.value.options.component==="valueSlider"?(i(),r(I,_({key:2,"model-value":e.value.state.value,"thumb-color":e.value.synapse.connection.sourceNode.view.color,"onUpdate:modelValue":t},e.value.options),null,16,["model-value","thumb-color"])):c("",!0),l(D,{"close-on-content-click":!1},{activator:a(({props:n})=>[l(y,_({class:"d-print-none menu align-center justify-center my-auto",color:"primary",icon:"mdi:mdi-dots-vertical",size:"x-small"},n),null,16)]),default:a(()=>[l($,{density:"compact"},{default:a(()=>[(i(),v(g,null,C(k,(n,o)=>l(V,{key:o,icon:n.icon,onClick:n.onclick},{prepend:a(()=>[l(S,{icon:n.icon},null,8,["icon"])]),default:a(()=>[p(" "+f(n.title),1)]),_:2},1032,["icon","onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1})):c("",!0)}}),We={class:"d-print-none menu align-center justify-center my-auto mx-1"},Ke=z({__name:"SynapseSpecEditor",props:{synapse:{}},setup(w){const s=w,e=B(()=>s.synapse),t=[{id:"paramsReset",icon:"mdi:mdi-restart",title:"Reset synapse params",onClick:()=>{e.value.reset()},show:()=>!0},{id:"weightInverse",icon:"mdi:mdi-contrast",title:"Inverse synaptic weight",onClick:()=>{e.value.inverseWeight()}}];return(k,d)=>(i(),v(g,null,[e.value.connection.view.connectRecorder()?c("",!0):(i(),r(U,{key:0,class:"syn-spec mx-1","no-gutters":""},{default:a(()=>[l(N,{disabled:e.value.models.length<2,items:e.value.models,class:"pa-1",density:"compact","hide-details":"","item-title":"label","item-value":"id",label:"Synapse model",modelValue:e.value.modelId,"onUpdate:modelValue":d[0]||(d[0]=m=>e.value.modelId=m),variant:"outlined"},null,8,["disabled","items","modelValue"]),G("div",We,[l(D,{"close-on-content-click":!1},{activator:a(({props:m})=>[l(y,_({color:"primary",icon:"mdi:mdi-order-bool-ascending-variant",size:"small"},m,{variant:"text"}),null,16)]),default:a(()=>[l(j,null,{default:a(()=>[l(M,null,{default:a(()=>[(i(!0),v(g,null,C(Object.values(e.value.modelParams),(m,n)=>(i(),r(R,{color:e.value.connection.sourceNode.view.color,key:n,label:m.label,value:m.id,density:"compact","hide-details":"",modelValue:e.value.paramsVisible,"onUpdate:modelValue":d[1]||(d[1]=o=>e.value.paramsVisible=o)},{append:a(()=>[p(f(m.id)+": "+f(m.value)+" "+f(m.unit),1)]),_:2},1032,["color","label","value","modelValue"]))),128))]),_:1})]),_:1})]),_:1}),l(D,null,{activator:a(({props:m})=>[l(y,_({color:"primary",icon:"mdi:mdi-dots-vertical",size:"small",variant:"text"},m),null,16)]),default:a(()=>[l($,{density:"compact"},{default:a(()=>[(i(),v(g,null,C(t,(m,n)=>l(V,{key:n,onClick:m.onClick},{prepend:a(()=>[l(S,{icon:m.icon},null,8,["icon"])]),default:a(()=>[p(" "+f(m.title),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})])]),_:1})),e.value.paramsVisible.length>0?(i(),r($,{key:1,density:"compact"},{default:a(()=>[(i(!0),v(g,null,C(e.value.filteredParams,(m,n)=>(i(),r(Ye,{key:n,param:m},null,8,["param"]))),128))]),_:1})):c("",!0)],64))}}),He={class:"d-flex flex-column justify-center align-center text-grey"},Qe={key:0},Je=z({__name:"ConnectionEditor",props:{connection:{}},setup(w){const s=w,e=B(()=>s.connection),t=B(()=>e.value.synapse),k=[{id:"connectionReset",icon:"mdi:mdi-restart",title:"Reset connection",onClick:()=>{e.value.reset(),t.value.reset(),t.value.hideAllParams()}},{id:"connectionReverse",icon:"mdi:mdi-rotate-3d-variant",title:"Reverse connection",onClick:()=>{e.value.reverse(),e.value.changes()}},{id:"weightInverse",icon:"mdi:mdi-contrast",title:"Inverse synaptic weight",onClick:()=>{t.value.inverseWeight()}},{id:"connectionDelete",icon:"mdi:mdi-trash-can-outline",title:"Delete connection",onClick:()=>{e.value.remove()},append:!0}];return(d,m)=>(i(),r(L,{style:fe({opacity:e.value.view.opacity?1:.3}),onMouseenter:m[0]||(m[0]=n=>e.value.state.focus()),onMouseleave:m[1]||(m[1]=n=>e.value.connections.unfocusConnection()),elevation:"0",rounded:"0"},{default:a(()=>[l(q,{class:"expansion-panel-title"},{default:a(()=>[l(U,{"no-gutters":""},{default:a(()=>[l(xe,{connection:e.value},null,8,["connection"]),l(x),G("div",He,[p(f(e.value.rule.value)+" ",1),e.value.view.connectOnlyNeurons()?(i(),v("div",Qe,f(e.value.synapse.modelId),1)):c("",!0)]),l(x),l(D,null,{activator:a(({props:n})=>[l(y,_({class:"menu",color:"primary",icon:"mdi:mdi-dots-vertical",size:"small",variant:"text"},n),null,16)]),default:a(()=>[l($,{density:"compact"},{default:a(()=>[(i(),v(g,null,C(k,(n,o)=>l(V,{icon:n.icon,key:o,onClick:n.onClick},{prepend:a(()=>[l(S,{icon:n.icon},null,8,["icon"])]),default:a(()=>[p(" "+f(n.title),1)]),_:2},1032,["icon","onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),l(Y,{class:"ma-1"},{default:a(()=>[l(ne,{connection:e.value},null,8,["connection"]),l(Ke,{synapse:t.value},null,8,["synapse"])]),_:1})]),_:1},8,["style"]))}}),Xe=G("span",{class:"my-1"},"Positions",-1),Ze=z({__name:"NodePositionTitle",props:{nodeSpatial:{}},setup(w){return(s,e)=>s.nodeSpatial.positions?(i(),r(U,{key:0,class:"my-auto","no-gutters":""},{default:a(()=>[Xe,l(x),l(A,{title:s.nodeSpatial.positions.name+" positions",class:"mx-1",label:"",size:"x-small",variant:"outlined"},{default:a(()=>{var t;return[l(S,{icon:((t=s.nodeSpatial.positions)==null?void 0:t.name)==="grid"?"custom:dots-grid":"custom:dice-multiple-outline"},null,8,["icon"])]}),_:1},8,["title"]),s.nodeSpatial.positions.name==="free"?(i(),r(A,{key:0,class:"mx-1",label:"",size:"x-small",title:"dimensions",variant:"outlined"},{default:a(()=>[p(f(s.nodeSpatial.positions.numDimensions)+"D ",1)]),_:1})):c("",!0),s.nodeSpatial.positions.name==="grid"?(i(),r(A,{key:1,class:"mx-1",label:"",size:"x-small",title:"shape",variant:"outlined"},{default:a(()=>[p(f(s.nodeSpatial.positions.shape),1)]),_:1})):c("",!0),s.nodeSpatial.positions.name==="free"?(i(),r(A,{key:2,class:"mx-1",label:"",size:"x-small",title:"size",variant:"outlined"},{default:a(()=>[p(f(s.nodeSpatial.node.size),1)]),_:1})):c("",!0),s.nodeSpatial.positions.edgeWrap?(i(),r(A,{key:3,class:"mx-1",label:"",size:"x-small",title:"edge wrap",variant:"outlined"},{default:a(()=>[l(S,{icon:"mdi:mdi-format-text-wrapping-wrap",size:"small"})]),_:1})):c("",!0)]),_:1})):c("",!0)}}),el={key:0},ll={key:1},al=z({__name:"NodePosition",props:{nodeSpatial:{}},setup(w){const s=w,e=B(()=>s.nodeSpatial),t=W({numDimensions:!1,positions:[{title:"Free positions",value:"free"},{title:"Grid positions",value:"grid"}],selectedPositions:"free",sizeOptions:{input:"valueSlider",label:"population size",max:1e3,rules:[["value > 0","The value must be strictly positive.","error"],["value < 1000","Large values generate many data points and can put quite a load on your browser.","warning"]],value:1}}),k=()=>{ae(()=>{e.value.init({positions:t.selectedPositions})})},d=()=>{e.value.changes()};return Q(()=>{var m;t.selectedPositions=((m=e.value.positions)==null?void 0:m.name)||"free"}),(m,n)=>e.value.positions?(i(),r(H,{key:0,variant:"accordion"},{default:a(()=>[l(L,{density:"compact",elevation:"0",tile:""},{default:a(()=>[l(q,{class:"expansion-panel-title"},{default:a(()=>[(i(),r(Ze,{key:e.value.hash,nodeSpatial:e.value},null,8,["nodeSpatial"]))]),_:1}),l(Y,null,{default:a(()=>[l(N,{items:t.positions,"onUpdate:modelValue":[n[0]||(n[0]=o=>k()),n[1]||(n[1]=o=>t.selectedPositions=o)],density:"compact","hide-details":"",modelValue:t.selectedPositions,variant:"outlined"},null,8,["items","modelValue"]),l(be,{inset:"",max:"3",min:"2","true-icon":"mdi:mdi-numeric-3","false-icon":"mdi:mdi-numeric-2","show-ticks":"always",step:"1","onUpdate:modelValue":[n[2]||(n[2]=o=>e.value.updatePositionParams({numDimensions:o?3:2})),n[3]||(n[3]=o=>t.numDimensions=o)],modelValue:t.numDimensions,label:"number of dimensions"},null,8,["modelValue"]),e.value.positions.name==="free"?(i(),v("span",el,[l(I,{"thumb-color":e.value.node.view.color,"onUpdate:modelValue":[n[4]||(n[4]=o=>e.value.changes()),n[5]||(n[5]=o=>e.value.node.size=o)],id:"n","input-label":"n",label:"population size",modelValue:e.value.node.size},null,8,["thumb-color","modelValue"])])):c("",!0),e.value.positions.name==="grid"?(i(),v("span",ll,[l(U,null,{default:a(()=>[l(P,{class:"ma-auto",cols:"3"},{default:a(()=>[p("shape")]),_:1}),l(x),(i(!0),v(g,null,C(e.value.positions.shape,(o,u)=>(i(),r(P,{key:u,cols:"3"},{default:a(()=>[l(F,{label:(e.value.positions.numDimensions===2?["rows","columns"]:["x","y","z"])[u],min:1,"model-value":o,"onUpdate:modelValue":b=>{if(e.value.positions){const h=e.value.positions.shape;h[u]=parseInt(b),e.value.updatePositionParams({shape:h})}},density:"compact","hide-details":"",type:"number",variant:"outlined"},null,8,["label","model-value","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),l(U,null,{default:a(()=>[l(P,{class:"ma-auto",cols:"3"},{default:a(()=>[p("center")]),_:1}),l(x),(i(!0),v(g,null,C(e.value.positions.center,(o,u)=>(i(),r(P,{key:u,cols:"3"},{default:a(()=>[l(F,{label:["x","y","z"][u],"model-value":o,step:.1,"onUpdate:modelValue":b=>{if(e.value.positions){const h=e.value.positions.center;h[u]=parseFloat(b),e.value.updatePositionParams({center:h})}},density:"compact","hide-details":"",type:"number",variant:"outlined"},null,8,["label","model-value","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),l(U,null,{default:a(()=>[l(P,{class:"ma-auto",cols:"3",title:""},{default:a(()=>[p("extent")]),_:1}),l(x),(i(!0),v(g,null,C(e.value.positions.extent,(o,u)=>(i(),r(P,{key:u,cols:"3"},{default:a(()=>[l(F,{label:["x","y","z"][u],min:0,"model-value":o,step:.1,"onUpdate:modelValue":b=>{if(e.value.positions){const h=e.value.positions.extent;h[u]=parseFloat(b),e.value.updatePositionParams({extent:h})}},density:"compact","hide-details":"",type:"number",variant:"outlined"},null,8,["label","model-value","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})])):c("",!0),l(U,null,{default:a(()=>[l(P,{class:"py-0"},{default:a(()=>[l(R,{class:"ma-0",color:"accent",label:"Edge wrap",modelValue:e.value.positions.edgeWrap,"onUpdate:modelValue":n[6]||(n[6]=o=>e.value.positions.edgeWrap=o)},null,8,["modelValue"])]),_:1})]),_:1}),l(y,{onClick:n[7]||(n[7]=o=>d()),size:"small",variant:"outlined"},{default:a(()=>[p(" Update positions ")]),_:1})]),_:1})]),_:1})]),_:1})):c("",!0)}}),tl={class:"d-print-none menu"},ol=z({__name:"NodeEditor",props:{node:{}},setup(w){const s=w,e=B(()=>s.node),t=W({elementType:"",items:[],menu:!1,panelIdx:null}),k=[{title:"copied model",value:"copied"},{title:"neuron",value:"neuron"},{title:"recorder",value:"recorder"},{title:"stimulator",value:"stimulator"}],d=[{icon:"mdi:mdi-reload",iconClass:"mdi-flip-h",onClick:()=>{e.value.size=1},title:"Set default size"},{icon:"mdi:mdi-axis-arrow",iconClass:"",onClick:()=>{e.value.toggleSpatial()},title:"Toggle spatial mode"}],m=(n,o)=>{["neuron","recorder","stimulator","copied"].includes(n.value)?(t.elementType=n.value,n.value==="copied"?t.items=e.value.network.modelsCopied.filterByGeneralElementType("node"):t.items=e.value.network.project.modelDBStore.getModelsByElementType(t.elementType)):e.value.modelId=n.value,o&&o()};return Q(()=>{t.items=e.value.models,t.elementType=e.value.elementType}),(n,o)=>e.value.show?(i(),r(O,{key:0,color:e.value.view.color,onMouseenter:o[13]||(o[13]=u=>e.value.view.focus()),onMouseleave:o[14]||(o[14]=u=>e.value.nodes.unfocusNode()),class:"ma-1"},{default:a(()=>[(i(),r(H,{key:e.value.connections.length,modelValue:e.value.view.expansionPanelIdx,"onUpdate:modelValue":o[12]||(o[12]=u=>e.value.view.expansionPanelIdx=u),variant:"accordion"},{default:a(()=>[l(L,null,{default:a(()=>[l(q,{class:"node-title"},{default:a(()=>[l(N,{"item-props":!0,items:t.items,label:t.elementType+" model",onClick:o[8]||(o[8]=T(()=>{},["stop"])),class:"model-select text-primary ml-8",density:"compact","hide-details":"","item-title":"label","item-value":"id",modelValue:e.value.modelId,"onUpdate:modelValue":o[9]||(o[9]=u=>e.value.modelId=u),variant:"outlined"},X({append:a(()=>[G("div",tl,[l(D,{"close-on-content-click":!1,modelValue:t.menu,"onUpdate:modelValue":o[5]||(o[5]=u=>t.menu=u)},{activator:a(({props:u})=>[l(y,_({color:"primary",icon:"mdi:mdi-order-bool-ascending-variant",size:"small"},u,{variant:"text"}),null,16)]),default:a(()=>[l(j,null,{default:a(()=>[l(M,null,{default:a(()=>[l(R,{disabled:e.value.model.isRecorder,color:e.value.view.color,density:"compact","hide-details":"",label:"Population size",modelValue:e.value.view.state.showSize,"onUpdate:modelValue":o[0]||(o[0]=u=>e.value.view.state.showSize=u)},{append:a(()=>[p(" n: "+f(e.value.size),1)]),_:1},8,["disabled","color","modelValue"]),e.value.modelParams?(i(!0),v(g,{key:0},C(Object.values(e.value.modelParams),(u,b)=>(i(),r(R,{color:e.value.view.color,key:b,label:u.label,value:u.id,density:"compact","hide-details":"",modelValue:e.value.paramsVisible,"onUpdate:modelValue":o[1]||(o[1]=h=>e.value.paramsVisible=h)},{append:a(()=>[p(f(u.id)+": "+f(u.value)+" "+f(u.unit),1)]),_:2},1032,["color","label","value","modelValue"]))),128)):c("",!0)]),_:1}),l(le,null,{default:a(()=>[l(y,{onClick:o[2]||(o[2]=T(()=>e.value.showAllParams(),["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" all ")]),_:1}),l(y,{onClick:o[3]||(o[3]=T(()=>e.value.hideAllParams(),["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" none ")]),_:1}),l(x),l(y,{onClick:o[4]||(o[4]=T(u=>t.menu=!1,["stop"])),size:"small",variant:"outlined"},{default:a(()=>[p(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(y,{color:"primary",icon:"",size:"small",variant:"text"},{default:a(()=>[l(S,{icon:"mdi:mdi-dots-vertical"}),l(Te,{node:e.value},null,8,["node"])]),_:1})])]),item:a(({props:u})=>[l(V,{onClick:b=>m(u),class:"node-model-item"},{append:a(()=>[t.elementType?(i(),r(y,{key:0,onClick:T(b=>m(u,()=>t.menu=!0),["stop"]),class:"icon",icon:"mdi:mdi-menu-right",size:"x-small",variant:"text"},null,8,["onClick"])):c("",!0)]),default:a(()=>[p(f(u.title)+" ",1)]),_:2},1032,["onClick"])]),prepend:a(()=>[l(y,{class:"position-absolute",flat:"",icon:"",size:"large",style:{left:"8px",top:"8px"}},{default:a(()=>[l(oe,{node:e.value,onClick:o[6]||(o[6]=u=>e.value.select()),size:"48px"},null,8,["node"])]),_:1})]),_:2},[t.elementType?{name:"prepend-item",fn:a(()=>[l(V,{onClick:o[7]||(o[7]=()=>{t.elementType="",t.items=k})},{prepend:a(()=>[l(S,{icon:"mdi:mdi-menu-left"})]),default:a(()=>[p(" Other element types ")]),_:1})]),key:"0"}:void 0]),1032,["items","label","modelValue"])]),_:1}),l(Y,null,{default:a(()=>{var u;return[e.value.view.state.showSize?(i(),r($,{key:0,class:"py-0"},{default:a(()=>[l(V,{class:"param pl-0 pr-1"},{append:a(()=>[l(D,null,{activator:a(({props:b})=>[l(y,_({color:"primary",class:"d-print-none menu align-center justify-center my-auto",icon:"mdi:mdi-dots-vertical",size:"x-small",variant:"text"},b),null,16)]),default:a(()=>[l($,{density:"compact"},{default:a(()=>[(i(),v(g,null,C(d,(b,h)=>l(V,{key:h,title:b.title,onClick:ul=>b.onClick()},{prepend:a(()=>[l(S,{class:ee(b.iconClass),icon:b.icon},null,8,["class","icon"])]),_:2},1032,["title","onClick"])),64))]),_:1})]),_:1})]),default:a(()=>[l(U,{"no-gutters":""},{default:a(()=>[e.value.spatial.hasPositions?(i(),r(al,{key:0,nodeSpatial:e.value.spatial},null,8,["nodeSpatial"])):(i(),r(I,{key:1,"thumb-color":e.value.view.color,"onUpdate:modelValue":[o[10]||(o[10]=b=>e.value.changes()),o[11]||(o[11]=b=>e.value.size=b)],id:"n","input-label":"n",label:"population size",modelValue:e.value.size},null,8,["thumb-color","modelValue"]))]),_:1})]),_:1})]),_:1})):c("",!0),(u=e.value.model)!=null&&u.isMultimeter?(i(),r($,{key:1,class:"py-0"},{default:a(()=>[l(V,null,{default:a(()=>[l(qe,{node:e.value},null,8,["node"])]),_:1})]),_:1})):c("",!0),e.value.paramsVisible.length>0?(i(),r($,{key:2,class:"py-0"},{default:a(()=>[(i(!0),v(g,null,C(e.value.paramsVisible,(b,h)=>(i(),r(Ue,{key:h,param:e.value.params[b]},null,8,["param"]))),128))]),_:1})):c("",!0)]}),_:1})]),_:1}),(i(!0),v(g,null,C(e.value.connections,(u,b)=>(i(),r(Je,{connection:u,key:b},null,8,["connection"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["color"])):c("",!0)}}),nl={class:"simulationKernelEditor"},il=z({__name:"SimulationKernelEditor",props:{color:{default:"primary",type:String}},setup(w){const s=te(),e=w,t=B(()=>s.state.project.simulation),k={autoRNGSeedSettings:{component:"checkbox",label:"randomize seed",rules:[n=>!n||"It always generates new script code. Uncheck if you want to modify the script."]},resolutionSettings:{id:"resolution",component:"tickSlider",label:"simulation resolution",tickLabels:[.01,.1,1,10],unit:"ms",rules:[n=>n>=.1||"Small values generate many data points and can put quite a load on your browser."]},rngSeedSettings:{id:"rng_seed",component:"valueSlider",label:"seed of the random number generator",max:1e3,min:1,rules:[n=>n>0||"The value must be strictly positive."],value:1},simulationTimeSettings:{id:"time",component:"valueSlider",label:"simulation time",max:2e3,min:0,unit:"ms",value:1e3,rules:[n=>n<2e3||"Large values generate many data points and can put quite a load on your browser."]},threadSettings:{component:"tickSlider",label:"local number of threads",tickLabels:[1,2,4,8]}},d=W({autoRNGSeed:!1});function m(){var n;(n=t.value.kernel.config)==null||n.update({autoRNGSeed:d.autoRNGSeed})}return Q(()=>{var n;d.autoRNGSeed=(n=t.value.kernel.config)==null?void 0:n.localStorage.autoRNGSeed}),(n,o)=>(i(),v("div",nl,[l(Ve,{color:"transparent",density:"compact"},{default:a(()=>[l(ke,null,{default:a(()=>[p(" Simulation kernel editor")]),_:1})]),_:1}),l(O,{color:e.color,class:"ma-1"},{default:a(()=>[l(K,{class:"pa-0 text-center text-button"},{default:a(()=>[p(" Modules ")]),_:1}),l(M,null,{default:a(()=>[l(ge,{"return-object":!1,chips:"",class:"pa-2","hide-selected":"",label:"Install modules",multiple:"",modelValue:t.value.modules,"onUpdate:modelValue":o[0]||(o[0]=u=>t.value.modules=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["color"]),l(O,{color:e.color,class:"ma-1"},{default:a(()=>[l(K,{class:"pa-0 text-center text-button"},{default:a(()=>[p(" Simulation kernel ")]),_:1}),l(M,null,{default:a(()=>[l(J,_({"thumb-color":e.color,class:"mx-1 py-1"},k.threadSettings,{modelValue:t.value.kernel.localNumThreads,"onUpdate:modelValue":o[1]||(o[1]=u=>t.value.kernel.localNumThreads=u)}),null,16,["thumb-color","modelValue"]),l(J,_({thumbColor:e.color,class:"mx-1 py-1"},k.resolutionSettings,{modelValue:t.value.kernel.resolution,"onUpdate:modelValue":o[2]||(o[2]=u=>t.value.kernel.resolution=u)}),null,16,["thumbColor","modelValue"]),l(I,_({"thumb-color":e.color,class:"mx-1 py-1"},k.rngSeedSettings,{modelValue:t.value.kernel.rngSeed,"onUpdate:modelValue":o[3]||(o[3]=u=>t.value.kernel.rngSeed=u)}),null,16,["thumb-color","modelValue"]),l(R,_({color:e.color,"onUpdate:modelValue":o[4]||(o[4]=u=>m()),class:"mx-1","hide-details":"auto"},k.autoRNGSeedSettings,{modelValue:d.autoRNGSeed,"onUpdate:modelValue":o[5]||(o[5]=u=>d.autoRNGSeed=u)}),null,16,["color","modelValue"])]),_:1})]),_:1},8,["color"]),l(O,{color:e.color,class:"ma-1"},{default:a(()=>[l(K,{class:"pa-0 text-center text-button"},{default:a(()=>[p(" Simulation ")]),_:1}),l(M,{class:"py-0"},{default:a(()=>[l(I,_({"thumb-color":e.color,class:"mx-1 py-2"},k.simulationTimeSettings,{modelValue:t.value.time,"onUpdate:modelValue":o[6]||(o[6]=u=>t.value.time=u)}),null,16,["thumb-color","modelValue"])]),_:1})]),_:1},8,["color"])]))}}),sl={key:0},dl={key:1},_l=z({__name:"ProjectLayout",setup(w){const s=te(),e=B(()=>s.state.project),t=we("");return(k,d)=>{const m=Ce("router-view");return i(),v(g,null,[l(ie),l(se,{color:"nest-project"},{activityExplorer:a(()=>[l(Se,{to:{name:"nestActivityExplorer",params:{projectId:E(s).state.projectId}},title:"Activity Explorer",size:"small",stacked:"",value:"explore"},{default:a(()=>[l(S,{class:"mdi-flip-v",icon:"mdi:mdi-border-style"}),p(" Explorer ")]),_:1},8,["to"]),l(y,{disabled:!e.value.network.nodes.hasSomeSpatialNodes,height:"100%",rounded:"0",variant:"plain",width:"32",style:{"min-width":"32px"}},{default:a(()=>[l(S,{icon:"mdi:mdi-menu-down"}),l(D,{activator:"parent"},{default:a(()=>[l($,{density:"compact"},{default:a(()=>[l(V,{onClick:d[0]||(d[0]=()=>E(s).state.tab.activityView="abstract")},{prepend:a(()=>[l(S,{class:"mdi-flip-v",icon:"mdi:mdi-border-style"})]),default:a(()=>[p(" abstract ")]),_:1}),l(V,{onClick:d[1]||(d[1]=()=>E(s).state.tab.activityView="spatial"),"prepend-icon":"mdi:mdi-axis-arrow"},{default:a(()=>[p(" spatial ")]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled"]),l(_e,{vertical:""})]),_:1}),l(ue,null,{activityController:a(()=>[E(s).state.tab.activityView==="abstract"?(i(),r(de,{key:0,graph:e.value.activityGraph.activityChartGraph},null,8,["graph"])):E(s).state.tab.activityView==="spatial"?(i(),v(g,{key:1},[l(Re,{graph:e.value.activityGraph.activityAnimationGraph},null,8,["graph"]),l(H,null,{default:a(()=>[(i(!0),v(g,null,C(e.value.activityGraph.activityAnimationGraph.layers,(n,o)=>(i(),r(Ee,{key:o,layer:n},null,8,["layer"]))),128))]),_:1})],64)):c("",!0)]),model:a(()=>[e.value.network.state.elementTypeIdx===5?(i(),v("span",sl,[l(N,{items:e.value.modelDBStore.state.models,class:"ma-1",density:"compact",flat:"","hide-details":"","item-title":"label","item-value":"id",label:"Existing model","prepend-icon":"mdi:mdi-plus",modelValue:t.value,"onUpdate:modelValue":d[3]||(d[3]=n=>t.value=n),variant:"outlined"},{append:a(()=>[l(y,{disabled:t.value.length===0,onClick:d[2]||(d[2]=n=>E(he)(t.value)),text:"copy",variant:"outlined"},null,8,["disabled"])]),_:1},8,["items","modelValue"])])):c("",!0),[0,5].includes(e.value.network.state.elementTypeIdx)?(i(),v("span",dl,[(i(!0),v(g,null,C(e.value.network.modelsCopied.all,(n,o)=>(i(),r(Le,{key:o,model:n},null,8,["model"]))),128))])):c("",!0)]),nodes:a(()=>[(i(),v("div",{key:e.value.network.nodes.length},[(i(!0),v(g,null,C(e.value.network.nodes.all,(n,o)=>(i(),v("div",{key:o},[n.isNode?(i(),r(ol,{key:0,node:n},null,8,["node"])):n.isGroup?(i(),r(re,{key:1,nodeGroup:n},null,8,["nodeGroup"])):c("",!0)]))),128))]))]),simulationKernel:a(()=>[l(il,{simulation:e.value.simulation},null,8,["simulation"])]),_:1}),(i(),r(m,{key:E(s).state.projectId,name:"project"}))],64)}}});export{_l as default};
