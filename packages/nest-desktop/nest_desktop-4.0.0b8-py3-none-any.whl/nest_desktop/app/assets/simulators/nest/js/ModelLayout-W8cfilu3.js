import{M as j,_ as I,a as x}from"../../../js/ModelNav-f46Mk84B.js";import{d as M,cv as y,b3 as N,bT as V,D as b,o as r,c,a as t,e as n,F as m,w as s,c7 as _,b as p,V as f,cu as E,h as C,g,r as S,k as B,n as T,v as D,s as h,cw as L,cx as P,cy as $,i as F}from"../../../js/index-DCXcuAJz.js";import"../../../js/DialogTextField-CIn-asOA.js";import"../../../js/ValueSlider-Bcl3TigJ.js";import"../../../js/ModelParamEditor-Cooob83e.js";import"../../../js/ImportDialog-1H8cn1XC.js";const z=h("span",{class:"text-no-wrap"},"Doc",-1),A=h("span",{class:"text-no-wrap"},"Explorer",-1),U=M({__name:"ModelLayout",setup(G){const e=y(),k=()=>{e.state.projectId&&P(`assets/simulators/nest/projects/${e.state.projectId}.json`).then(o=>{o.filename=e.state.projectId,e.model.project=new $(o),l()})},u=o=>{e.state.projectId=o,l()},l=()=>{var o,i;if(!e.model.isNeuron){e.state.project=void 0;return}if((o=e.model)!=null&&o.project&&((i=e.model.project)==null?void 0:i.filename)===e.state.projectId){e.state.project=e.model.project;const d=e.state.project;d&&(L(),d.network.nodes.neurons.forEach(a=>{a.modelId=e.state.modelId,a.showAllParams()}),d.network.changes(),d.activityGraph.init())}else k()},v=[{id:"model-step-current-up-down",name:"step current (up/down)",icon:"mdi-chart-line"},{id:"model-current-steps",name:"current steps",icon:"mdi-chart-line"},{id:"model-spikes-up-down",name:"spikes (up/down)",icon:"mdi-chart-line"},{id:"model-regular-spikes-steps",name:"regular spikes steps",icon:"mdi-chart-line"},{id:"model-poisson-spikes-steps",name:"Poisson spikes steps",icon:"mdi-chart-line"},{id:"model-f-i-curve",name:"F-I curve",icon:"mdi-chart-line"},{id:"spike-activity",name:"spike activity",icon:"mdi-chart-scatter-plot"}];return N(()=>{u("model-step-current-up-down")}),V(()=>e.state.modelId,l),(o,i)=>{const d=b("router-view");return r(),c(m,null,[t(j),n(e).model?(r(),c(m,{key:0},[t(I,{color:"nest-model"},{prependTabs:s(()=>[t(_,{to:{name:"nestModelDoc",params:{modelId:n(e).state.modelId}},size:"small",title:"Read documentation"},{default:s(()=>[t(p,{icon:"mdi:mdi-text-box-outline"}),z]),_:1},8,["to"])]),prependBtn:s(()=>[t(f,{onClick:i[0]||(i[0]=a=>n(E)()),"prepend-icon":"mdi:mdi-memory",text:"Module",title:"Generate module",variant:"outlined"})]),modelExplorer:s(()=>[t(_,{disabled:!n(e).model.isNeuron,to:{name:"nestModelExplorer",params:{modelId:n(e).state.modelId}},size:"small",title:"Model Explorer",value:"explore"},{default:s(()=>[t(p,{icon:"mdi:mdi-chart-scatter-plot"}),A]),_:1},8,["disabled","to"]),t(f,{disabled:!n(e).model.isNeuron,height:"100%",rounded:"0",variant:"plain",width:"32",style:{"min-width":"32px"}},{default:s(()=>[t(p,{icon:"mdi:mdi-menu-down"}),t(C,{activator:"parent"},{default:s(()=>[t(g,{density:"compact"},{default:s(()=>[(r(),c(m,null,S(v,(a,w)=>t(F,{key:w,"prepend-icon":a.icon,title:a.name,onClick:J=>u(a.id)},null,8,["prepend-icon","title","onClick"])),64))]),_:1})]),_:1})]),_:1},8,["disabled"]),t(B,{vertical:""})]),_:1}),t(x),(r(),T(d,{key:n(e).state.modelId,name:"model"}))],64)):D("",!0)],64)}}});export{U as default};
