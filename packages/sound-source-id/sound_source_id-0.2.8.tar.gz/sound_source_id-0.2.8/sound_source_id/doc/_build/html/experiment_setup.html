<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parameters file &mdash; sound_source_id 0.2.8 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Results files" href="results_files.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            sound_source_id
          </a>
              <div class="version">
                0.2.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html"><code class="docutils literal notranslate"><span class="pre">sound_source_id</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameters file</a></li>
<li class="toctree-l1"><a class="reference internal" href="#stimulation-file">Stimulation file</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_files.html">Results files</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Sound Level Calibration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sound_source_id</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parameters file</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/experiment_setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parameters-file">
<span id="sec-experiment-setup"></span><h1>Parameters file<a class="headerlink" href="#parameters-file" title="Permalink to this heading"></a></h1>
<p>The settings for a test are stored in a parameters file, which is a plain text file. An example parameters file for a setup with physical speakers is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mode</span> <span class="o">=</span> <span class="n">speakers</span>
<span class="n">azimuths</span> <span class="o">=</span> <span class="o">-</span><span class="mi">70</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span>
<span class="n">elevs</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">labels</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span>
<span class="n">channels</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span>
<span class="n">n_chan</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">n_blocks</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">stim_list_file</span> <span class="o">=</span> <span class="n">stim_list</span><span class="o">.</span><span class="n">csv</span>
<span class="n">randomize</span> <span class="o">=</span> <span class="n">true</span>
<span class="n">demo_stim</span> <span class="o">=</span> <span class="n">pink_noises</span><span class="o">/</span><span class="n">noise1</span><span class="o">.</span><span class="n">wav</span>
<span class="n">demo_stim_lev</span> <span class="o">=</span> <span class="mi">65</span>
</pre></div>
</div>
<p>this is what each field indicates:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>mode</cite>: [<code class="docutils literal notranslate"><span class="pre">speakers</span></code>, <code class="docutils literal notranslate"><span class="pre">earphones</span></code>], whether spatialization will be achieved by presenting the stimuli through a physical array of speakers, or virtually through earphones</p></li>
<li><p><cite>azimuths</cite>: the azimuth angles (in degrees) at which the sounds are presented. Note that a 0° angle indicates straight ahead, a 90° angle is to the right, and a -90° angle to the left</p></li>
<li><p><cite>elevs</cite>: the elevation angles (in degrees) at which the sounds are presented; (0°: median plane front, 90°: up, 180°: median plane back, 270: down°). This field can be omitted if all of the elevation angles are at 0°</p></li>
<li><p><cite>labels</cite>: a label for each of the angles, this can be a number or a letter (e.g., a, b, c, etc…)</p></li>
<li><p><cite>channels</cite>: the channel of the soundcard that will be used to present a sound at the corresponding azimuth/elevation coordinate</p></li>
<li><p><cite>n_chan</cite>: the total number of channels for the setup</p></li>
<li><p><cite>n_blocks</cite>: the number of blocks, that is, how many times the test will be repeated</p></li>
<li><p><cite>stim_list_file</cite>: the path (absolute or relative) to the file containing the stimulation list (see below)</p></li>
<li><p><cite>randomize</cite>: if <cite>true</cite> the stim_list_file will be shuffled before the repetition of each block</p></li>
<li><p><cite>demo_stim</cite>: the path to the WAV file to be used for the demo</p></li>
<li><p><cite>demo_stim_lev</cite>: the sound level (in dB SPL) to be used for the demo</p></li>
</ul>
</div></blockquote>
<p>Below is an example parameter file for a setup with virtual spatial presentation through earphones:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mode</span> <span class="o">=</span> <span class="n">earphones</span>
<span class="n">azimuths</span> <span class="o">=</span> <span class="o">-</span><span class="mi">70</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span>
<span class="n">labels</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span>
<span class="n">n_blocks</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">stim_list_file</span> <span class="o">=</span> <span class="n">stim_list</span><span class="o">.</span><span class="n">csv</span>
<span class="n">randomize</span> <span class="o">=</span> <span class="n">true</span>
<span class="n">demo_stim</span> <span class="o">=</span> <span class="n">pink_noises</span><span class="o">/</span><span class="n">noise1</span><span class="o">.</span><span class="n">wav</span>
<span class="n">demo_stim_lev</span> <span class="o">=</span> <span class="mi">65</span>
<span class="n">sofa_file_path</span> <span class="o">=</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">ntfsShared</span><span class="o">/</span><span class="n">archives</span><span class="o">/</span><span class="n">auditory</span><span class="o">/</span><span class="n">Materials</span><span class="o">/</span><span class="n">KU100_Far_Field</span><span class="o">/</span><span class="n">HRIR_CIRC360</span><span class="o">.</span><span class="n">sofa</span>
<span class="n">sofa_az_coords</span> <span class="o">=</span> <span class="n">anticlockwise</span>
</pre></div>
</div>
<dl class="simple">
<dt>many of the fields in the parameter file above are the same as for a parameter file for a setup with physical speakers. The following additional fields are needed in a parameters file for virtual spatial presentation through earphones:</dt><dd><ul class="simple">
<li><p><cite>sofa_file_path</cite>: the path (absolute or relative) to the SOFA file containing the HRTF to be used for spatialization</p></li>
<li><p><cite>sofa_az_coords</cite>: [<code class="docutils literal notranslate"><span class="pre">anticlockwise</span></code>, <code class="docutils literal notranslate"><span class="pre">clockwise</span></code>], whether the azimuth coordinates of the SOFA file are specified in a clockwise(0: front, 90: right, 180: back; 270: left), or anti-clockwise (0: front, 90: left, 180: back; 270: right) arrangement</p></li>
</ul>
</dd>
</dl>
<p>In a parameter file for a setup with virtual spatial presentation through earphones the <cite>channels</cite> and <cite>n_chan</cite> fields are not needed, and will be ignored if present.</p>
<p>Some additional optional fields can be used to adjust the visual appearance of the widgets layout:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>resp_bt_wd</cite>: width of the response buttons in pixels (default 40)</p></li>
<li><p><cite>resp_bt_ht</cite>: height of the response buttons in pixels (default 40)</p></li>
<li><p><cite>play_bt_wd</cite>: width of the play buttons in pixels (default 40)</p></li>
<li><p><cite>play_bt_ht</cite>: height of the play buttons in pixels (default 40)</p></li>
<li><p><cite>resp_lt_wd</cite>: width of the response lights in pixels (default 40)</p></li>
<li><p><cite>resp_lt_ht</cite>: height of the response lights in pixels (default 40)</p></li>
<li><p><cite>resp_bt_rad_offset</cite>: offset of the response buttons radius from the response lights radius in pixels (default 60). The radius of the response buttons will be set at the radius of the response lights minus this offset</p></li>
<li><p><cite>play_bt_rad_offset</cite>: offset of the play buttons radius from the response button radius in pixels (default 60). The radius of the play buttons will be set at the radius of the response buttons minus this offset</p></li>
</ul>
</div></blockquote>
</section>
<section id="stimulation-file">
<h1>Stimulation file<a class="headerlink" href="#stimulation-file" title="Permalink to this heading"></a></h1>
<p>Stimulation files specify the stimuli that will be played on each trial of the test. Figure <a class="reference internal" href="#fig-stim-file"><span class="std std-ref">Example stimulation file.</span></a> shows an example stimulation file.</p>
<figure class="align-default" id="id1">
<span id="fig-stim-file"></span><a class="reference internal image-reference" href="_images/stim_file.png"><img alt="Example stimulation file" src="_images/stim_file.png" style="width: 453.9px; height: 278.8px;" /></a>
<figcaption>
<p><span class="caption-text">Example stimulation file.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Each row of the file represents a trial. Stimulation files contain the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>az_angle</cite>: the azimuth angle at which the sound will be presented (if in mode <cite>speakers</cite>, stimuli will be sent to the corresponding soundcard channel as specified in the parameters file)</p></li>
<li><p><cite>elev_angle</cite>: the elevation angle at which the sound will be presented (if in mode <cite>speakers</cite>, stimuli will be sent to the corresponding soundcard channel as specified in the parameters file)</p></li>
<li><p><cite>sound_file</cite>: the path (relative or absolute) to the WAV file to be played</p></li>
<li><p><cite>condition</cite>: an optional label specifying the experimental condition</p></li>
<li><p><cite>level</cite>: the <cite>base</cite> sound level (in dB SPL) at which the sound will be presented (this assumes that <cite>sound_source_id</cite> has been correctly calibrated)</p></li>
<li><p><cite>roving</cite>: a level rove, the actual sound level will be equal to the base level plus a value drawn from a random uniform distribution between +/- the roving level</p></li>
<li><p><cite>feedback</cite>: if <cite>true</cite>, feedback will be given to the listener at the end of each trial</p></li>
</ul>
</div></blockquote>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="results_files.html" class="btn btn-neutral float-right" title="Results files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, Samuele Carcagno.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>