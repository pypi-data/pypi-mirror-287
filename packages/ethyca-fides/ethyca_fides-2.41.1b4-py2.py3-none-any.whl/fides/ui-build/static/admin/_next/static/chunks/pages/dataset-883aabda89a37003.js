(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8473],{19785:function(e){var t=Array.isArray;e.exports=t},64902:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset",function(){return s(29987)}])},43124:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var i=s(24246),n=s(58727),a=s(88038),r=s.n(a),l=s(86677);s(27378);var o=s(11596),d=s(72247),c=s(11032),u=()=>{let e=(0,l.useRouter)();return(0,i.jsx)(n.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(n.xuv,{children:[(0,i.jsxs)(n.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(n.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(n.zxk,{size:"sm",variant:"outline",onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(n.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},h=e=>{let{children:t,title:s,padded:a=!0,mainProps:c}=e,h=(0,o.hz)(),p=(0,l.useRouter)(),x="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,f=!(h.flags.privacyRequestsConfiguration&&x),{data:g}=(0,d.JE)(void 0,{skip:f}),{data:j}=(0,d.PW)(void 0,{skip:f}),m=h.flags.privacyRequestsConfiguration&&(!g||!j)&&x;return(0,i.jsxs)(n.kCb,{"data-testid":s,direction:"column",h:"100vh",children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",s]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(n.kCb,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[m?(0,i.jsx)(u,{}):null,t]})]})}},37344:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var i=s(24246),n=s(58727),a=s(19785),r=s.n(a),l=s(27378),o=s(79894),d=s.n(o),c=e=>{let{breadcrumbs:t}=e;return(0,i.jsx)(n.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:t.map((e,s)=>{let a=s+1===t.length,r=!!e.link||!!e.onClick;return(0,i.jsx)(n.gN6,{color:a||e.isOpaque?"black":"gray.500",children:r?(0,i.jsx)(n.Atw,{as:d(),href:e.link,isCurrentPage:a,children:e.title}):(0,i.jsx)(n.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:a,children:e.title})},e.title)})})},u=e=>{let{breadcrumbs:t,isSticky:s=!0,children:a,...o}=e;return(0,i.jsxs)(n.xuv,{bgColor:"white",paddingY:5,...s?{position:"sticky",top:0,left:0,zIndex:10}:{},...o,children:[r()(t)&&(0,i.jsx)(n.xuv,{marginBottom:a?4:0,children:(0,i.jsx)(c,{breadcrumbs:t})}),(0,l.isValidElement)(t)&&t,a]})}},29987:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var i=s(24246),n=s(58727),a=s(79894),r=s.n(a),l=s(43124),o=s(37344),d=s(435),c=s(86677),u=s(45007),h=s(27378),p=s(96878),x=s(12538);let f=e=>{let{resourceType:t,fidesKeys:s,skip:i}=e,[n,a]=(0,h.useState)(!0),r=(0,p.Wm)({resource_type:t,fides_keys:s},{skip:i,pollingInterval:n?3e3:void 0}),l=!!r.data&&r.data.every(e=>e.status===x.Wg.COMPLETE||e.status===x.Wg.FAILED||e.status===x.Wg.REVIEWED);return(0,h.useEffect)(()=>{l&&a(!1)},[l]),{...r,isClassificationFinished:l}};var g=s(11596);let j=e=>{let t=e===x.j.DATASETS?"dataset":"system";return{[x.Wg.PROCESSING]:{title:"Processing",tooltip:"This ".concat(t," is currently being ").concat("dataset"===t?"generated and":""," classified. You will be notified when this process is complete"),color:"orange"},[x.Wg.CREATED]:{title:"Processing",tooltip:"This ".concat(t," is currently being ").concat("dataset"===t&&"generated and"," and classified. You will be notified when this process is complete"),color:"orange"},[x.Wg.COMPLETE]:{title:"Awaiting Review",tooltip:"This ".concat(t," has been automatically classified. Review the results and update the ").concat(t,"."),color:"orange"},[x.Wg.REVIEWED]:{title:"Classified",tooltip:"This ".concat(t," has been classified."),color:"green"},[x.Wg.FAILED]:{title:"Failed",tooltip:"This ".concat(t," must be manually updated."),color:"red"},unknown:{title:"Unknown",tooltip:"This ".concat(t," must be manually updated."),color:"gray"}}};var m=e=>{let{status:t,resource:s,...a}=e,r=j(s)[null!=t?t:"unknown"];return(0,i.jsx)(n.ua7,{"data-testid":"classification-status-badge",label:r.tooltip,children:(0,i.jsx)(n.Cts,{variant:"solid",colorScheme:r.color,w:"100%",textAlign:"center",...a,"data-testid":"classification-status-badge",children:r.title})})},y=()=>{let e=(0,u.I0)(),t=(0,c.useRouter)(),{data:s}=(0,d.LH)({onlyUnlinkedDatasets:!1}),a=(0,g.hz)();f({resourceType:x.j.DATASETS,skip:!a.plus});let r=(0,u.v9)(p.dW),l=s=>{e((0,d.Zl)(s.fides_key)),t.push("/dataset/".concat(s.fides_key))};return s?(0,i.jsxs)(n.iA_,{size:"sm","data-testid":"dataset-table",children:[(0,i.jsx)(n.hrZ,{children:(0,i.jsxs)(n.Tr,{children:[(0,i.jsx)(n.Th,{pl:1,children:"Name"}),(0,i.jsx)(n.Th,{pl:1,children:"Fides Key"}),(0,i.jsx)(n.Th,{pl:1,children:"Description"}),a.plus?(0,i.jsx)(n.Th,{"data-testid":"dataset-table__status-table-header",pl:1,children:"Status"}):null]})}),(0,i.jsx)(n.p3B,{children:s.map(e=>{let t=r.get(e.fides_key);return(0,i.jsxs)(n.Tr,{_hover:{bg:"gray.50"},tabIndex:0,onClick:()=>l(e),onKeyPress:t=>{"Enter"===t.key&&l(e)},cursor:"pointer","data-testid":"dataset-row-".concat(e.fides_key),children:[(0,i.jsx)(n.Td,{pl:1,children:e.name}),(0,i.jsx)(n.Td,{pl:1,children:e.fides_key}),(0,i.jsx)(n.Td,{pl:1,children:e.description}),a.plus?(0,i.jsx)(n.Td,{pl:1,"data-testid":"dataset-status-".concat(e.fides_key),children:(null==t?void 0:t.status)?(0,i.jsx)(m,{resource:x.j.DATASETS,status:null==t?void 0:t.status}):null}):null]},e.fides_key)})})]}):(0,i.jsx)("div",{children:"Empty state"})},b=()=>{let{isLoading:e}=(0,d.LH)({onlyUnlinkedDatasets:!1});return(0,i.jsxs)(l.Z,{title:"Datasets",mainProps:{paddingTop:0},children:[(0,i.jsx)(o.Z,{breadcrumbs:[{title:"Datasets"}]}),(0,i.jsx)(n.xuv,{mb:4,children:e?(0,i.jsx)(n.$jN,{}):(0,i.jsx)(y,{})}),(0,i.jsx)(n.xuv,{children:(0,i.jsx)(n.zxk,{as:r(),href:"/dataset/new",size:"sm",mr:2,variant:"outline","data-testid":"create-dataset-btn",children:"Create new dataset"})})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=64902)}),_N_E=e.O()}]);