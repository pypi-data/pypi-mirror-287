"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3528],{43124:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(24246),i=n(39933),o=n(88038),l=n.n(o),s=n(86677);n(27378);var a=n(11596),u=n(72247),c=n(11032),d=()=>{let e=(0,s.useRouter)();return(0,r.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(i.xuv,{children:[(0,r.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,r.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:o=!0,mainProps:c}=e,f=(0,a.hz)(),g=(0,s.useRouter)(),x="/privacy-requests"===g.pathname||"/datastore-connection"===g.pathname,p=!(f.flags.privacyRequestsConfiguration&&x),{data:v}=(0,u.JE)(void 0,{skip:p}),{data:m}=(0,u.PW)(void 0,{skip:p}),h=f.flags.privacyRequestsConfiguration&&(!v||!m)&&x;return(0,r.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,r.jsxs)(l(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(i.kCb,{as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[h?(0,r.jsx)(d,{}):null,t]})]})}},6903:function(e,t,n){var r=n(24246),i=n(69883),o=n(39933),l=n(60153),s=n(80521),a=n(38565),u=n(27378),c=n(34803),d=n(39514);let f=e=>{let{item:t,label:n,draggable:i,onDeleteItem:a,onRowClick:u,maxH:c=10,rowTestId:d}=e,f=(0,l.o)();return(0,r.jsx)(s.t.Item,{value:t,dragListener:!1,dragControls:f,children:(0,r.jsxs)(o.kCb,{direction:"row",gap:2,maxH:c,w:"full",px:2,align:"center",role:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:u?{bgColor:"gray.100"}:void 0,bgColor:"white",children:[i?(0,r.jsx)(o.VVU,{onPointerDown:e=>f.start(e),cursor:"grab"}):null,(0,r.jsx)(o.kCb,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:u?"pointer":"auto",onClick:()=>{u&&u(t)},overflow:"clip","data-testid":d,children:(0,r.jsx)(o.xvT,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:n})}),a?(0,r.jsx)(o.hU,{"aria-label":"Delete",onClick:()=>a(t),icon:(0,r.jsx)(o.pJl,{}),size:"xs",variant:"outline",bgColor:"white",visibility:"hidden",alignSelf:"end",mb:2,_groupHover:{visibility:"visible"}}):null]})})},g=e=>{let{label:t,options:n,onOptionSelected:l,baseTestId:s}=e,[a,d]=(0,u.useState)(!1),[f,g]=(0,u.useState)(void 0),x=e=>{l(e),d(!1),g(void 0)};return a?(0,r.jsx)(o.xuv,{w:"full","data-testid":"select-".concat(s),children:(0,r.jsx)(i.Z,{chakraStyles:c.hP,size:"sm",value:f,options:n,onChange:e=>x(e),autoFocus:!0,menuPosition:"fixed",menuPlacement:"auto",classNamePrefix:"select-".concat(s)})}):(0,r.jsx)(o.zxk,{onClick:()=>d(!0),w:"full",size:"sm",variant:"outline",rightIcon:(0,r.jsx)(o.jBn,{boxSize:4}),"data-testid":"add-".concat(s),children:t})};t.Z=e=>{let{label:t,tooltip:n,draggable:i,addButtonLabel:l,allItems:u,idField:x,nameField:p=x,values:v,setValues:m,canDeleteItem:h,onRowClick:b,selectOnAdd:j,getItemLabel:y,createNewValue:w,maxHeight:C=36,baseTestId:k}=e,S=e=>e instanceof Object&&x&&x in e?e[x]:e,_=u.every(e=>"string"==typeof e)?u.filter(e=>v.every(t=>t!==e)):u.filter(e=>v.every(t=>S(t)!==S(e))),z=e=>{m(v.filter(t=>t!==e).slice())},R=null!=y?y:e=>e instanceof Object&&x&&x in e?p&&p in e?e[p]:e[x]:e,A=e=>{let t=e instanceof Object&&x&&x in e?e[x]:e;return{label:R(e),value:t}},D=e=>u.every(e=>"string"==typeof e)?e.value:u.find(t=>t[x]===e.value),L=e=>{let t=w?w(e):D(e);m([t,...v.slice()]),j&&b&&b(t)},P={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},I=i?(0,r.jsx)(o.xuv,{as:a.E.div,layoutScroll:!0,...P,children:(0,r.jsx)(s.t.Group,{values:v,onReorder:e=>m(e.slice()),children:v.map(e=>{let t=S(e);return(0,r.jsx)(f,{item:e,label:R(e),onDeleteItem:!h||h&&h(e)?z:void 0,onRowClick:b,draggable:!0,maxH:C,rowTestId:"".concat(k,"-row-").concat(t)},t)})})}):(0,r.jsx)(o.xuv,{...P,children:(0,r.jsx)(o.aVo,{children:v.map(e=>{let t=S(e);return(0,r.jsx)(f,{item:e,label:R(e),onRowClick:b,onDeleteItem:z,maxH:C,rowTestId:"".concat(k,"-row-").concat(t)},t)})})});return v.length?(0,r.jsxs)(o.kCb,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,r.jsx)(c.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,n?(0,r.jsx)(d.Z,{label:n}):null,I,_.length?(0,r.jsx)(g,{label:null!=l?l:"Add new",options:_.map(e=>A(e)),onOptionSelected:L,baseTestId:k}):null]}):(0,r.jsx)(g,{label:null!=l?l:"Add new",options:_.map(e=>A(e)),onOptionSelected:L,baseTestId:k})}},60136:function(e,t,n){n.d(t,{D4:function(){return o.D4},MM:function(){return f},Ot:function(){return u},c6:function(){return i},cj:function(){return x},e$:function(){return s},fn:function(){return a},iC:function(){return g},nU:function(){return d},tB:function(){return c}});var r,i,o=n(41164);let l="An unexpected error occurred. Please try again.",s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(e)){if((0,o.hE)(e.data))return e.data.detail;if((0,o.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,o.Dy)(e.data)||404===e.status&&(0,o.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function a(e){return"object"==typeof e&&null!=e&&"status"in e}function u(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(e))return{status:e.originalStatus,message:e.data};if((0,o.Bw)(e)){let{status:n}=e;return{status:n,message:s(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=i||(i={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let g={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},x=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},16781:function(e,t,n){n.d(t,{MA:function(){return s},Vo:function(){return u},t5:function(){return a}});var r=n(24246),i=n(39933);let o=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",t]})},l=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",t]})},s={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},a=e=>{let t=(0,r.jsx)(o,{children:e});return{...s,description:t}},u=e=>{let t=(0,r.jsx)(l,{children:e});return{...s,description:t,status:"error"}}},41164:function(e,t,n){n.d(t,{Bw:function(){return l},D4:function(){return i},Dy:function(){return a},XD:function(){return u},cz:function(){return c},hE:function(){return s},oK:function(){return o}});var r=n(76649);let i=e=>"error"in e,o=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,l=e=>(0,r.Ln)({status:"number",data:{}},e),s=e=>(0,r.Ln)({detail:"string"},e),a=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),u=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}}]);