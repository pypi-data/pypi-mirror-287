(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1227],{95372:function(e){e.exports=function(e,t,s,i){for(var n=e.length,a=s+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return -1}},56632:function(e,t,s){var i=s(89278),n=s(80068),a=s(50098);e.exports=function(e){return function(t,s,r){var l=Object(t);if(!n(t)){var o=i(s,3);t=a(t),s=function(e){return o(l[e],e,l)}}var c=e(t,s,r);return c>-1?l[o?t[c]:c]:void 0}}},64925:function(e,t,s){var i=s(56632)(s(66259));e.exports=i},66259:function(e,t,s){var i=s(95372),n=s(89278),a=s(47991),r=Math.max;e.exports=function(e,t,s){var l=null==e?0:e.length;if(!l)return -1;var o=null==s?0:a(s);return o<0&&(o=r(l+o,0)),i(e,n(t,3),o)}},94919:function(e,t,s){var i=s(91936),n=1/0;e.exports=function(e){return e?(e=i(e))===n||e===-n?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,s){var i=s(94919);e.exports=function(e){var t=i(e),s=t%1;return t==t?s?t-s:t:0}},19310:function(e,t,s){"use strict";var i=s(24246),n=s(64925),a=s.n(n),r=s(44296),l=s(91650),o=s(79851),c=s(47411);let d=()=>{let{isLoading:e}=(0,o.fd)(),t=(0,r.C)(o.U3),{isLoading:s}=(0,c.MO)(),i=(0,r.C)(c.qb),{isLoading:n}=(0,l.te)();return{dataUses:t,dataSubjects:(0,r.C)(l.ZL),dataCategories:i,isLoading:e||s||n}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:s,isLoading:n}=d(),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},l=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t(e);if(!n)return e;let a=t(r(e,s));return n.parent_key&&(null==a?void 0:a.name)!==n.name?(0,i.jsxs)("span",{children:[(0,i.jsxs)("strong",{children:[null==a?void 0:a.name,":"]})," ",n.name]},e):(0,i.jsx)("strong",{children:n.name},e)},o=t=>a()(e,{fides_key:t}),c=e=>a()(t,{fides_key:e}),u=e=>a()(s,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:o,getDataUseDisplayName:e=>l(e,o,1),getDataCategories:()=>t,getDataCategoryByKey:c,getDataCategoryDisplayName:e=>l(e,c,2),getDataSubjects:()=>s,getDataSubjectByKey:u,getDataSubjectDisplayName:e=>{let t=u(e);return t?t.name:e},getPrimaryKey:r,isLoading:n}}},37429:function(e,t,s){"use strict";var i=s(24246),n=s(39933),a=s(27378),r=s(12538),l=s(35682),o=s(6111),c=s(59104),d=s(52962);t.Z=e=>{let{resource:t}=e,s=(0,d.G)(t),[u]=(0,o.cM)(),[g]=(0,o.vi)(),[x,f]=(0,a.useState)(!1),{diff_status:m,child_diff_statuses:h}=t;if(s===c.X.DATABASE)return null;let j=m===r.LL.CLASSIFICATION_ADDITION||m===r.LL.CLASSIFICATION_UPDATE,v=h&&(h[r.LL.CLASSIFICATION_ADDITION]||h[r.LL.CLASSIFICATION_UPDATE]),p=j||v,C=j||v;return(0,i.jsxs)(n.Ugi,{onClick:e=>e.stopPropagation(),children:[p&&(0,i.jsx)(l.Z,{title:"Confirm",icon:(0,i.jsx)(n.nQG,{}),onClick:async()=>{f(!0),await u({staged_resource_urn:t.urn}),f(!1)},disabled:x}),C&&(0,i.jsx)(l.Z,{title:"Ignore",icon:(0,i.jsx)(n.tpL,{}),onClick:async()=>{f(!0),await g({staged_resource_urn:t.urn}),f(!1)},disabled:x}),x?(0,i.jsx)(n.X40,{position:"static"}):null]})}},42320:function(e,t,s){"use strict";s.d(t,{Z:function(){return O}});var i=s(24246),n=s(59003),a=s(92222),r=s(39933),l=s(27378),o=s(52850),c=s(6111),d=s(98320),u=s(51557),g=s(59104),x=s(15025),f=s(12538),m=s(37429),h=s(23528),j=s(19310),v=s(69883);let p=e=>{let{data:t,setValue:s}=e,{getPrimaryKey:n,getDataCategoryByKey:a}=(0,j.Z)(),l=a(n(t.value,2));return(0,i.jsxs)(r.xuv,{onClick:()=>s(t,"select-option"),cursor:"pointer",borderBottomColor:"gray.100",borderBottomWidth:1,paddingX:3,paddingY:1.5,_hover:{backgroundColor:"gray.100"},"data-testid":"option-".concat(t.value),children:[(0,i.jsxs)(r.Ugi,{gap:0,alignItems:"flex-start",children:[(0,i.jsx)(r.Cts,{paddingX:1,paddingY:0,bgColor:"gray.300",fontSize:"xx-small",children:null==l?void 0:l.name}),(0,i.jsxs)(r.xvT,{fontSize:"xs",whiteSpace:"normal",children:[": ",t.description]})]}),(0,i.jsx)(r.xvT,{fontSize:"xs",color:"gray.500",children:t.value})]})};var C=e=>{let{onChange:t,menuIsOpen:s,showDisabled:n=!1}=e,{getDataCategoryDisplayName:a,getDataCategories:r}=(0,j.Z)(),l=(n?r():r().filter(e=>e.active)).map(e=>({value:e.fides_key,label:a(e.fides_key),description:e.description||""}));return(0,i.jsx)(v.Z,{placeholder:"Select a category",onChange:t,options:l,size:"sm",menuPosition:"absolute",menuPlacement:"auto",components:{Option:p},menuIsOpen:s,chakraStyles:{menuList:e=>({...e,paddingTop:0,paddingBottom:0})}})},I=s(65399),_=e=>{var t,s;let{fidesLangKey:n,isEditable:a=!1,resource:o}=e,[d,u]=(0,l.useState)(!1),{getDataCategoryDisplayName:g}=(0,j.Z)(),[x]=(0,c.NA)(),f=(0,l.useCallback)(()=>{u(!1)},[]),{ref:m}=(0,I.O3)(f);if(!n)return(0,i.jsx)(r.Cts,{textTransform:"none",children:"None"});let h=g((null===(t=o.user_assigned_data_categories)||void 0===t?void 0:t.length)?o.user_assigned_data_categories[0]:n);return(0,i.jsxs)(r.xuv,{display:"flex",h:"100%",alignItems:"center",position:"relative",width:"100%",ref:m,children:[(0,i.jsxs)(r.Cts,{fontWeight:"normal",textTransform:"none",onClick:()=>{a&&u(!0)},cursor:a?"pointer":"default","data-testid":"classification-".concat(null!==(s=o.name)&&void 0!==s?s:o.urn),children:[h," ",a&&(0,i.jsx)(r.dY8,{marginLeft:.5})]}),d&&(0,i.jsx)(r.xuv,{className:"select-wrapper",position:"absolute",zIndex:10,top:"0",left:"0",width:"100%",height:"max",bgColor:"#fff",children:(0,i.jsx)(C,{onChange:e=>{x({staged_resource_urn:o.urn,monitor_config_id:o.monitor_config_id,user_assigned_data_categories:[e.value]})},menuIsOpen:!0})})]})},S=s(63969),y=e=>{let{resourceType:t}=e,s=(0,a.Cl)();return t===g.X.SCHEMA?{columns:[s.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(h.Z,{result:e.row.original,changeTypeOverride:u.E.CLASSIFICATION}),header:e=>(0,i.jsx)(o.Rr,{value:"Name",...e})}),s.accessor(e=>e.urn,{id:"project",cell:e=>(0,i.jsx)(o.G3,{value:(0,x.Z)(e.getValue())}),header:e=>(0,i.jsx)(o.Rr,{value:"Project",...e})}),s.accessor(e=>(0,S.Z)(e),{id:"type",cell:e=>(0,i.jsx)(o.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(o.Rr,{value:"Type",...e})}),s.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,i.jsx)(o.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(o.Rr,{value:"Detected by",...e})}),s.accessor(e=>e.source_modified,{id:"time",cell:e=>(0,i.jsx)(d.Cy,{time:e.getValue()}),header:e=>(0,i.jsx)(o.Rr,{value:"When",...e})}),s.display({id:"action",cell:e=>e.row.original.diff_status===f.LL.MONITORED?(0,i.jsx)(m.Z,{resource:e.row.original}):(0,i.jsx)(o.G3,{value:"--"}),header:"Actions"})]}:t===g.X.TABLE?{columns:[s.display({id:"select",cell:e=>{var t;let{row:s}=e;return(0,i.jsx)(d.k,{isChecked:s.getIsSelected(),onChange:s.getToggleSelectedHandler(),dataTestId:"select-".concat(null!==(t=s.original.name)&&void 0!==t?t:s.id)})},header:e=>{let{table:t}=e;return(0,i.jsx)(d.k,{isChecked:t.getIsAllPageRowsSelected(),isIndeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),dataTestId:"select-all-rows"})},maxSize:25}),s.accessor(e=>e.name,{id:"tables",cell:e=>(0,i.jsx)(h.Z,{result:e.row.original}),header:e=>(0,i.jsx)(o.Rr,{value:"Table name",...e})}),s.display({id:"type",cell:()=>(0,i.jsx)(o.G3,{value:"Table"}),header:"Type"}),s.accessor(e=>e.source_modified,{id:"time",cell:e=>(0,i.jsx)(d.Cy,{time:e.getValue()}),header:"Time"}),s.display({id:"actions",cell:e=>(0,i.jsx)(m.Z,{resource:e.row.original}),header:"Actions"})]}:t===g.X.FIELD?{columns:[s.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(h.Z,{result:e.row.original}),header:e=>(0,i.jsx)(o.Rr,{value:"Field name",...e})}),s.display({id:"type",cell:()=>(0,i.jsx)(o.G3,{value:"Field"}),header:"Type"}),s.accessor(e=>e.classifications,{id:"classifications",cell:e=>{var t;let s=(null===(t=e.getValue())||void 0===t?void 0:t.length)?e.getValue()[0]:null;return(0,i.jsx)(_,{fidesLangKey:null==s?void 0:s.label,isEditable:!0,resource:e.row.original})},meta:{overflow:"visible"},header:"Data category",minSize:280}),s.accessor(e=>e.source_modified,{id:"time",cell:e=>(0,i.jsx)(d.Cy,{time:e.getValue()}),header:e=>(0,i.jsx)(o.Rr,{value:"When",...e})}),s.display({id:"actions",cell:e=>(0,i.jsx)(m.Z,{resource:e.row.original}),header:"Actions"})]}:{columns:[]}},L=s(38637),A=s(35682),T=e=>{let{resourceUrn:t}=e,[s,{isLoading:n}]=(0,c.Hf)(),[a,{isLoading:l}]=(0,c.zV)(),o=n||l,d=async e=>{await a({staged_resource_urns:e})},u=async e=>{await s({staged_resource_urns:e})};return(0,i.jsx)(r.kCb,{direction:"row",align:"center",justify:"center",w:"full","data-testid":"bulk-actions-menu",children:(0,i.jsxs)(r.hE2,{children:[(0,i.jsx)(A.Z,{title:"Confirm all",icon:(0,i.jsx)(r.nQG,{}),onClick:()=>u([t]),disabled:o,variant:"solid",colorScheme:"primary"}),(0,i.jsx)(A.Z,{title:"Ignore all",icon:(0,i.jsx)(r.tpL,{}),disabled:o,onClick:()=>d([t])})]})})},b=e=>{let{selectedUrns:t}=e,[s,{isLoading:n}]=(0,c.Hf)(),[a,{isLoading:l}]=(0,c.zV)(),o=n||l,d=async e=>{await s({staged_resource_urns:e})},u=async e=>{await a({staged_resource_urns:e})};return t.length?(0,i.jsxs)(r.kCb,{direction:"row",align:"center",justify:"center",w:"full","data-testid":"bulk-actions-menu",children:[(0,i.jsx)(r.xvT,{fontSize:"xs",fontWeight:"semibold",minW:16,mr:6,children:"".concat(t.length," selected")}),(0,i.jsxs)(r.hE2,{children:[(0,i.jsx)(A.Z,{title:"Confirm",icon:(0,i.jsx)(r.nQG,{}),onClick:()=>d(t),disabled:o,variant:"solid",colorScheme:"primary"}),(0,i.jsx)(A.Z,{title:"Ignore",icon:(0,i.jsx)(r.tpL,{}),disabled:o,onClick:()=>u(t)})]})]}):null},w=s(52962),k=s(71329),D=s(22770);let N={items:[],total:0,page:1,size:50,pages:1},Z=()=>(0,i.jsx)(r.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,i.jsxs)(r.gCW,{children:[(0,i.jsx)(r.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,i.jsx)(r.xvT,{fontSize:"sm",children:"You're up to date!"})]})});var O=e=>{let{resourceUrn:t}=e,s=[f.LL.CLASSIFICATION_ADDITION,f.LL.CLASSIFICATION_UPDATE],d=[f.LL.CLASSIFICATION_ADDITION,f.LL.CLASSIFICATION_UPDATE],[u,x]=(0,l.useState)(""),[m,h]=(0,l.useState)({}),{PAGE_SIZES:j,pageSize:v,setPageSize:p,onPreviousPageClick:C,isPreviousPageDisabled:I,onNextPageClick:_,isNextPageDisabled:S,startRange:A,endRange:O,pageIndex:E,setTotalPages:R}=(0,o.oi)(),{isFetching:z,isLoading:F,data:P}=(0,c.z8)({staged_resource_urn:t,page:E,size:v,child_diff_status:d,diff_status:s,search:u}),G=(0,w.G)(null==P?void 0:P.items[0]),U=G===g.X.FIELD,{items:M,total:V,pages:W}=(0,l.useMemo)(()=>null!=P?P:N,[P]);(0,l.useEffect)(()=>{R(W)},[W,R]);let{columns:X}=y({resourceType:G}),B=(0,l.useMemo)(()=>X,[X]),{navigateToDiscoveryResults:H}=(0,L.Z)(),Q=(0,n.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:B,manualPagination:!0,onRowSelectionChange:h,state:{rowSelection:m},getRowId:k.Z,data:M}),Y=Object.keys(m).filter(e=>m[e]);return F?(0,i.jsx)(o.I4,{rowHeight:36,numRows:36}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Q$,{children:(0,i.jsxs)(r.kCb,{gap:6,children:[(0,i.jsx)(r.xuv,{w:400,flexShrink:0,children:(0,i.jsx)(D.M,{value:u,onChange:x})}),!!Y.length&&(0,i.jsx)(r.kCb,{align:"center",children:G===g.X.TABLE&&(0,i.jsx)(b,{selectedUrns:Y})}),G===g.X.FIELD&&(0,i.jsx)(T,{resourceUrn:t})]})}),(0,i.jsx)(o.ZK,{tableInstance:Q,onRowClick:U?void 0:e=>H({resourceUrn:e.urn}),emptyTableNotice:(0,i.jsx)(Z,{}),overflow:"visible"}),(0,i.jsx)(o.s8,{totalRows:V,pageSizes:j,setPageSize:p,onPreviousPageClick:C,isPreviousPageDisabled:I||z,onNextPageClick:_,isNextPageDisabled:S||z,startRange:A,endRange:O})]})}},22236:function(e,t,s){"use strict";var i,n;s.d(t,{z:function(){return i}}),(n=i||(i={})).DATASET="Dataset",n.CLASSIFICATION="Classification"},63969:function(e,t,s){"use strict";var i=s(51557),n=s(58525),a=s(22236);t.Z=e=>(0,n.Z)(e)===i.E.CLASSIFICATION?a.z.CLASSIFICATION:a.z.DATASET}}]);