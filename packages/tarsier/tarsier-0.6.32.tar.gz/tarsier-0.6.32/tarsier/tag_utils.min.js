"use strict";const tarsierId="__tarsier_id",tarsierSelector=`#${tarsierId}`,reworkdVisibilityAttr="reworkd-original-visibility",elIsClean=t=>{const n=t.getBoundingClientRect(),i=window.getComputedStyle(t),e=i.visibility==="hidden"||i.display==="none"||t.hidden||t.disabled,o=i.opacity==="0",s=n.width===0||n.height===0,l=t.tagName==="SCRIPT"||t.tagName==="STYLE";return!e&&!o&&!s&&!l},isNonWhiteSpaceTextNode=t=>t.nodeType===Node.TEXT_NODE&&t.textContent&&t.textContent.trim().length>0&&t.textContent.trim()!=="\u200B",inputs=["a","button","textarea","select","details","label"],isInteractable=t=>t.tagName.toLowerCase()==="label"&&t.querySelector("input")?!1:inputs.includes(t.tagName.toLowerCase())||t.tagName.toLowerCase()==="input"&&t.type!=="hidden"||t.role==="button",text_input_types=["text","password","email","search","url","tel","number"],isTextInsertable=t=>t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input"&&text_input_types.includes(t.type),emptyTagWhitelist=["input","textarea","select","button"],isEmpty=t=>{const n=t.tagName.toLowerCase();if(emptyTagWhitelist.includes(n)||t.childElementCount>0)return!1;if("innerText"in t&&t.innerText.trim().length===0){const i=t.querySelector("svg"),e=t.querySelector("img");return i||e?!1:isElementInViewport(t)}return!1};function isElementInViewport(t){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function getElementXPath(t){let n=[],i="";for(t&&t.ownerDocument!==window.document&&(i=`iframe[${t.getAttribute("iframe_index")}]`);t;){if(!t.tagName){t=t.parentNode;continue}let e=t.tagName.toLowerCase(),o=1,s=t.previousElementSibling;for(;s;)s.tagName===t.tagName&&o++,s=s.previousElementSibling;let l=t.nextElementSibling,c=!1;for(;l;){if(l.tagName===t.tagName){c=!0;break}l=l.nextElementSibling}if((o>1||c)&&(e+=`[${o}]`),t.id){if(e+=`[@id="${t.id}"]`,n.length>3)return n.unshift(e),"//"+n.join("/")}else t.className&&(e+=`[@class="${t.className}"]`);n.unshift(e),t=t.parentNode}return i+"//"+n.join("/")}function create_tagged_span(t,n){let i;isInteractable(n)?isTextInsertable(n)?i=`[#${t}]`:n.tagName.toLowerCase()=="a"?i=`[@${t}]`:i=`[$${t}]`:i=`[${t}]`;let e=document.createElement("span");return e.id=tarsierId,e.style.position="relative",e.style.display="inline",e.style.color="white",e.style.backgroundColor="red",e.style.padding="1.5px",e.style.borderRadius="3px",e.style.fontWeight="bold",e.style.fontFamily="Arial",e.style.margin="1px",e.style.lineHeight="1.25",e.style.letterSpacing="2px",e.style.zIndex="2140000046",e.style.clip="auto",e.style.height="fit-content",e.style.width="fit-content",e.style.minHeight="fit-content",e.style.minWidth="fit-content",e.style.maxHeight="unset",e.style.maxWidth="unset",e.textContent=i,e.style.webkitTextFillColor="white",e.style.textShadow="",e.style.textDecoration="none",e.style.letterSpacing="0px",e}window.tagifyWebpage=(t=!1)=>{window.removeTags(),hideMapElements();const n=getAllElementsInAllFrames(),i=getElementsToTag(n,t),e=removeNestedTags(i),o=insertTags(e,t);return absolutelyPositionMissingTags(),o};function getAllElementsInAllFrames(){const t=Array.from(document.body.querySelectorAll("*")),n=document.getElementsByTagName("iframe");for(let i=0;i<n.length;i++)try{const e=n[i],o=e.contentDocument||e.contentWindow?.document;if(!o)continue;const s=Array.from(o.querySelectorAll("*"));s.forEach(l=>l.setAttribute("iframe_index",i.toString())),t.push(...s)}catch(e){console.error("Error accessing iframe content:",e)}return t}function getElementsToTag(t,n){const i=[];for(let e of t)isEmpty(e)||!elIsClean(e)||(isInteractable(e)||n&&Array.from(e.childNodes).filter(isNonWhiteSpaceTextNode).length>=1)&&i.push(e);return i}function removeNestedTags(t){const n=[...t];return t.map(i=>{if(isInteractable(i)){const e=[];if(i.querySelectorAll("*").forEach(o=>{n.indexOf(o)>-1&&e.push(o)}),e.length==1)for(let o of e)n.splice(n.indexOf(o),1)}}),n}function insertTags(t,n){const i={};let e=0;for(let o of t){i[e]=getElementXPath(o);let s=create_tagged_span(e,o);if(isInteractable(o))isTextInsertable(o)&&o.parentElement?o.parentElement.insertBefore(s,o):o.prepend(s),e++;else if(n)for(let l of Array.from(o.childNodes).filter(isNonWhiteSpaceTextNode)){let c=create_tagged_span(e,o);o.insertBefore(c,l),e++}}return i}function absolutelyPositionMissingTags(){const n=document.querySelectorAll(tarsierSelector);n.forEach(i=>{const e=i.parentElement,o=e.getBoundingClientRect();let s=i.getBoundingClientRect();const l={x:(o.left+o.right)/2,y:(o.top+o.bottom)/2},c={x:(s.left+s.right)/2,y:(s.top+s.bottom)/2},m=Math.abs(l.x-c.x),g=Math.abs(l.y-c.y);if(m>500||g>500||!elIsClean(i)){i.style.position="absolute";let r=Math.max(0,o.left-(s.right+3-s.left));r=Math.min(r,window.innerWidth-(s.right-s.left));let a=Math.max(0,o.top+3);a=Math.min(a,Math.max(window.innerHeight,document.documentElement.scrollHeight)-(s.bottom-s.top)),i.style.left=`${r}px`,i.style.top=`${a}px`,e.removeChild(i),document.body.appendChild(i)}n.forEach(r=>{if(i===r)return;let a=r.getBoundingClientRect(),p=parseFloat(window.getComputedStyle(i).fontSize.split("px")[0]),d=parseFloat(window.getComputedStyle(r).fontSize.split("px")[0]);for(;s.left<a.right&&s.right>a.left&&s.top<a.bottom&&s.bottom>a.top&&p>7&&d>7;)p-=.5,d-=.5,i.style.fontSize=`${p}px`,r.style.fontSize=`${d}px`,s=i.getBoundingClientRect(),a=r.getBoundingClientRect()})})}window.removeTags=()=>{document.querySelectorAll(tarsierSelector).forEach(n=>n.remove()),showMapElements()};const GOOGLE_MAPS_OPACITY_CONTROL="__reworkd_google_maps_opacity",hideMapElements=()=>{const t=['iframe[src*="google.com/maps"]','iframe[id*="gmap_canvas"]',".maplibregl-map",".mapboxgl-map",".leaflet-container",'img[src*="maps.googleapis.com"]','[aria-label="Map"]',".cmp-location-map__map",'.map-view[data-role="mapView"]',".google_Map-wrapper",".google_map-wrapper",".googleMap-wrapper",".googlemap-wrapper",".ls-map-canvas",".gmapcluster","#googleMap","#googleMaps","#googlemaps","#googlemap","#google_map","#google_maps","#MapId",".geolocation-map-wrapper",".locatorMap"];document.querySelectorAll(t.join(", ")).forEach(n=>{const i=window.getComputedStyle(n).opacity;n.setAttribute("data-original-opacity",i),n.style.opacity="0"})},showMapElements=()=>{document.querySelectorAll(`[${GOOGLE_MAPS_OPACITY_CONTROL}]`).forEach(n=>{n.style.opacity=n.getAttribute("data-original-opacity")||"1"})};window.hideNonTagElements=()=>{getAllElementsInAllFrames().forEach(n=>{const i=n;i.style.visibility&&i.setAttribute(reworkdVisibilityAttr,i.style.visibility),i.id.startsWith(tarsierId)?i.style.visibility="visible":i.style.visibility="hidden"})},window.revertVisibilities=()=>{getAllElementsInAllFrames().forEach(n=>{const i=n;i.getAttribute(reworkdVisibilityAttr)?i.style.visibility=i.getAttribute(reworkdVisibilityAttr)||"true":i.style.removeProperty("visibility")})};
