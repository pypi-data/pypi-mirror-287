"use strict";(self.webpackChunkjupyterlab_xssguard=self.webpackChunkjupyterlab_xssguard||[]).push([[323],{323:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(656),a=0,s=!1;class d extends r.RenderedText{render(e){return(async e=>{if(1e5==a)return;a++;const t=document.head,n=document.body,r=document.createElement("iframe");r.id="xss_guard"+a,r.sandbox="allow-scripts allow-modals",r.frameBorder="0";var d=document.implementation.createHTMLDocument();const o=d.head;t.querySelectorAll("style").forEach((e=>{const t=e.cloneNode(!0);o.appendChild(t)})),n.querySelectorAll('link[rel="stylesheet"]').forEach((e=>{const t=e.cloneNode(!0);o.appendChild(t)}));const i=d.body;i.setAttribute("style","background-color: transparent;");var l=document.createElement("script");l.type="text/javascript",l.innerHTML="\nfunction sendHeight()\n{\n  if(parent.postMessage)\n  {\n      var height = document.getElementById('contents_div').offsetHeight;\n      parent.postMessage([\""+r.id+"\", height], '*');\n  }\n}\n  ",o.appendChild(l),i.setAttribute("onload","sendHeight()");var c=document.createElement("div");c.className="jp-WindowedPanel lm-Widget jp-Notebook jp-mod-scrollPastEndlm-Widget lm-Panel jp-Cell-outputWrapper jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output",c.id="contents_div",d.body.appendChild(c),c.innerHTML=e.source;const u=d.documentElement.outerHTML;e.host.append(r),r.srcdoc=u,s||(window.addEventListener("message",(function(e){var t=e.data[0],n=document.getElementById(t);n&&n.setAttribute("style","height: "+e.data[1]+"px; width: 100%;")}),!1),s=!0)})({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}const o={safe:!0,mimeTypes:["text/html"],createRenderer:e=>new d(e)},i={id:"jupyterlab_xssguard:plugin",description:"A JupyterLab extension to insert code block output into iframe.",autoStart:!0,requires:[r.IRenderMimeRegistry],activate:(e,t)=>{console.log("JupyterLab extension jupyterlab_xssguard is activated!"),t.addFactory(o)}}}}]);