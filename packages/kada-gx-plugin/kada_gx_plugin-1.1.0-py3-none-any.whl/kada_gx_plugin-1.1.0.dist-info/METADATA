Metadata-Version: 2.1
Name: kada-gx-plugin
Version: 1.1.0
Summary: kada-gx-plugin generates validation results in a format for loading into the K Platform.
Author-email: kada <contact@kada.ai>
Maintainer-email: kada <contact@kada.ai>
Project-URL: Homepage, https://kada.ai
Classifier: Development Status :: 5 - Production/Stable
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Requires-Python: <4.0,>=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: great-expectations <=0.18.19,>=0.15.41
Provides-Extra: azure
Requires-Dist: azure-identity >=1.12.0 ; extra == 'azure'
Requires-Dist: azure-storage-blob >=12.14.1 ; extra == 'azure'

## kada-gx-plugin

kada-gx-plugin generates validation results in a format for loading into the K Platform.

Plugin has been tested for only Great Expectations versions `0.15.41` - `0.18.19`.

Results will continue to be written to existing validation stores if other checkpoint actions are defined eg `StoreValidationResultAction`.

### Steps to use the KadaStoreValidationResultsAction from the plugin

1. Install the plugin by `pip install kada-gx-plugin` to write to a local filesystem or `pip install kada-gx-plugin[azure]` to write to an Azure blob store. Additional azure dependencies will be required.

2. In your required `checkpoint`, add the following action to your checkpoint `.yml` file. `AZURE_BLOB_SAS_URL` is the container SAS token which is provided by KADA. `prefix` should be updated to the landing folder found in K Platform Source onboarding.

>#### Checkpoint action for writing to local filesystem
```yml
  - name: store_kada_validation_result
    action:
      class_name: KadaStoreValidationResultsAction
      module_name: kada_ge_store_plugin.kada_store_validation
      prefix: lz/ge_landing/landing
      test_directory: /tmp/test_ge_results
```
This will write validation result files to /tmp/test_ge_results/lz/ge_landing/landing

>#### Checkpoint action for writing to Azure blob store

```yml
  - name: store_kada_validation_result
    action:
      class_name: KadaStoreValidationResultsAction
      module_name: kada_ge_store_plugin.kada_store_validation
      prefix: lz/ge_landing/landing
      azure_blob_sas_url: ${AZURE_BLOB_SAS_URL}
```

3. Defined the variable `AZURE_BLOB_SAS_URL`. In `uncommited/config_variables.yml` add the variable `AZURE_BLOB_SAS_URL: <SAS url blob >` or alternatively set `AZURE_BLOB_SAS_URL` in the environment variables.
